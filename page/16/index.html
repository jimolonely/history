<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-111673440-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <title>在我的世界</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="who,where,what">
<meta property="og:type" content="website">
<meta property="og:title" content="在我的世界">
<meta property="og:url" content="http://jimolonely.github.io/history/page/16/index.html">
<meta property="og:site_name" content="在我的世界">
<meta property="og:description" content="who,where,what">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jackpler">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="在我的世界" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.1.0"><link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">在我的世界</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">home</a>
        
          <a class="main-nav-link" href="/archives">archives</a>
        
          <a class="main-nav-link" href="/about">about</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://jimolonely.github.io/history"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-java/001-junit-design-pattern" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/22/java/001-junit-design-pattern/" class="article-date">
  <time datetime="2018-03-22T05:51:55.000Z" itemprop="datePublished">2018-03-22</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/22/java/001-junit-design-pattern/">理解JUnit源码和设计模式</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文将以junit4.12为例,阅读其核心源码,理解其核心设计模式.<br>希望最后能实现一个JUnit.</p>
<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>JUnit的来源.</p>
<h1 id="前提知识"><a href="#前提知识" class="headerlink" title="前提知识"></a>前提知识</h1><ol>
<li>要了解的几种设计模式: </li>
<li><a target="_blank" rel="noopener" href="https://www.tutorialspoint.com/design_pattern/observer_pattern.htm">Observer pattern</a>,<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Observer_pattern">wiki</a>.</li>
<li><a target="_blank" rel="noopener" href="https://www.tutorialspoint.com/design_pattern/composite_pattern.htm">Composite pattern</a>.<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Composite_pattern">wiki</a>.</li>
<li><a target="_blank" rel="noopener" href="https://www.tutorialspoint.com/design_pattern/command_pattern.htm">Command pattern</a>,<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Command_pattern">wiki</a>.</li>
<li>反射编程</li>
</ol>
<h1 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h1><h1 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h1>
      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文将以junit4.12为例,阅读其核心源码,理解其核心设计模式.<br>希望最后能实现一个JUnit.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/22/java/001-junit-design-pattern/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/22/java/001-junit-design-pattern/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/22/java/001-junit-design-pattern/" data-id="cl1fw7fkk008cvkd394nde452" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/junit/" rel="tag">junit</a><span class="article-tag-list-count">1</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-elasticsearch/004-configure" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/17/elasticsearch/004-configure/" class="article-date">
  <time datetime="2018-03-17T01:08:11.000Z" itemprop="datePublished">2018-03-17</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/17/elasticsearch/004-configure/">05elasticsearch配置</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>elasticsearch配置</p>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>来自<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/settings.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/settings.html</a></p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>elasticsearch配置</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/17/elasticsearch/004-configure/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/17/elasticsearch/004-configure/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/17/elasticsearch/004-configure/" data-id="cl1fw7fjd004dvkd35x0j0ao5" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a><span class="article-tag-list-count">7</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-elasticsearch/003-data-explore" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/15/elasticsearch/003-data-explore/" class="article-date">
  <time datetime="2018-03-15T00:41:27.000Z" itemprop="datePublished">2018-03-15</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/15/elasticsearch/003-data-explore/">04elasticsearch搜索数据</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>对数据的各种查询.</p>
<h1 id="Exploring-Your-Data"><a href="#Exploring-Your-Data" class="headerlink" title="Exploring Your Data"></a>Exploring Your Data</h1><p>来自<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/_exploring_your_data.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/_exploring_your_data.html</a></p>
<p>下载数据：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc my-data]$ wget https://raw.githubusercontent.com/elastic/elasticsearch/master/docs/src/test/resources/accounts.json</span><br></pre></td></tr></table></figure>
<p>导入数据：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc my-data]$ curl -H &quot;Content-Type: application/json&quot; -XPOST &#x27;localhost:9200/bank/account/_bulk?pretty&amp;refresh&#x27; --data-binary &quot;@accounts.json&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看结果</span></span><br><span class="line">[jimo@jimo-pc my-data]$ curl &#x27;localhost:9200/_cat/indices?v&#x27;</span><br><span class="line">health status index    uuid                   pri rep docs.count docs.deleted store.size pri.store.size</span><br><span class="line">yellow open   customer 9nM78Xu0Rqe6YDDaQJOSAg   5   1          3            0     11.6kb         11.6kb</span><br><span class="line">yellow open   bank     JOqLgpkAQ7yxooKSePCBVA   5   1       1000            0    487.9kb        487.9kb</span><br></pre></td></tr></table></figure>
<h2 id="The-Search-API"><a href="#The-Search-API" class="headerlink" title="The Search API"></a>The Search API</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc my-data]$ curl -XGET &#x27;localhost:9200/bank/_search?q=*&amp;sort=account_number:asc&amp;pretty&amp;pretty&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 85,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 5,</span><br><span class="line">    &quot;successful&quot; : 5,</span><br><span class="line">    &quot;skipped&quot; : 0,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 1000,</span><br><span class="line">    &quot;max_score&quot; : null,</span><br><span class="line">    &quot;hits&quot; : [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;bank&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;account&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;0&quot;,</span><br><span class="line">        &quot;_score&quot; : null,</span><br><span class="line">        &quot;_source&quot; : &#123;</span><br><span class="line">          &quot;account_number&quot; : 0,</span><br><span class="line">          &quot;balance&quot; : 16623,</span><br><span class="line">          &quot;firstname&quot; : &quot;Bradshaw&quot;,</span><br><span class="line">          &quot;lastname&quot; : &quot;Mckenzie&quot;,</span><br><span class="line">          &quot;age&quot; : 29,</span><br><span class="line">          &quot;gender&quot; : &quot;F&quot;,</span><br><span class="line">          &quot;address&quot; : &quot;244 Columbus Place&quot;,</span><br><span class="line">          &quot;employer&quot; : &quot;Euron&quot;,</span><br><span class="line">          &quot;email&quot; : &quot;bradshawmckenzie@euron.com&quot;,</span><br><span class="line">          &quot;city&quot; : &quot;Hobucken&quot;,</span><br><span class="line">          &quot;state&quot; : &quot;CO&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;sort&quot; : [</span><br><span class="line">          0</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>查询解析：localhost:9200&#x2F;bank&#x2F;_search?q&#x3D;*&amp;sort&#x3D;account_number:asc&amp;pretty&amp;pretty<br>以&amp;分开，q&#x3D;*代表所有，asc升序。</p>
<p>等价与：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -XGET &#x27;localhost:9200/bank/_search?pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;query&quot;: &#123; &quot;match_all&quot;: &#123;&#125; &#125;, &quot;sort&quot;: [ &#123; &quot;account_number&quot;: &quot;asc&quot; &#125; ] &#125; &#x27;</span><br></pre></td></tr></table></figure>
<h2 id="Introducing-the-Query-Language"><a href="#Introducing-the-Query-Language" class="headerlink" title="Introducing the Query Language"></a>Introducing the Query Language</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以传入数量，只查一个，默认size=10</span></span><br><span class="line">curl -XGET &#x27;localhost:9200/bank/_search?pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;query&quot;: &#123; &quot;match_all&quot;: &#123;&#125; &#125;, &quot;size&quot;: 1 &#125; &#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指定开始</span></span><br><span class="line">[jimo@jimo-pc my-data]$ curl -XGET &#x27;localhost:9200/bank/_search?pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;query&quot;: &#123; &quot;match_all&quot;: &#123;&#125; &#125;, &quot;size&quot;: 2 ,&quot;from&quot;:10&#125; &#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指定排序</span></span><br><span class="line">[jimo@jimo-pc my-data]$ curl -XGET &#x27;localhost:9200/bank/_search?pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;query&quot;: &#123; &quot;match_all&quot;: &#123;&#125; &#125;, &quot;sort&quot;: &#123; &quot;balance&quot;: &#123; &quot;order&quot;: &quot;desc&quot; &#125; &#125; &#125; &#x27;</span><br></pre></td></tr></table></figure>
<h2 id="Executing-Searches"><a href="#Executing-Searches" class="headerlink" title="Executing Searches"></a>Executing Searches</h2><p>使用_source过滤字段：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc my-data]$ curl -XGET &#x27;localhost:9200/bank/_search?pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;query&quot;: &#123; &quot;match_all&quot;: &#123;&#125; &#125;, &quot;_source&quot;: [&quot;account_number&quot;, &quot;balance&quot;] &#125; &#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 12,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 5,</span><br><span class="line">    &quot;successful&quot; : 5,</span><br><span class="line">    &quot;skipped&quot; : 0,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 1000,</span><br><span class="line">    &quot;max_score&quot; : 1.0,</span><br><span class="line">    &quot;hits&quot; : [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;bank&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;account&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;25&quot;,</span><br><span class="line">        &quot;_score&quot; : 1.0,</span><br><span class="line">        &quot;_source&quot; : &#123;</span><br><span class="line">          &quot;account_number&quot; : 25,</span><br><span class="line">          &quot;balance&quot; : 40540</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>精确查找：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc my-data]$ curl -XGET &#x27;localhost:9200/bank/_search?pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;query&quot;: &#123; &quot;match&quot;: &#123; &quot;account_number&quot;: 20 &#125; &#125; &#125; &#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 20,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 5,</span><br><span class="line">    &quot;successful&quot; : 5,</span><br><span class="line">    &quot;skipped&quot; : 0,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 1,</span><br><span class="line">    &quot;max_score&quot; : 1.0,</span><br><span class="line">    &quot;hits&quot; : [</span><br><span class="line">      &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;bank&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;account&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;20&quot;,</span><br><span class="line">        &quot;_score&quot; : 1.0,</span><br><span class="line">        &quot;_source&quot; : &#123;</span><br><span class="line">          &quot;account_number&quot; : 20,</span><br><span class="line">          &quot;balance&quot; : 16418,</span><br><span class="line">          &quot;firstname&quot; : &quot;Elinor&quot;,</span><br><span class="line">          &quot;lastname&quot; : &quot;Ratliff&quot;,</span><br><span class="line">          &quot;age&quot; : 36,</span><br><span class="line">          &quot;gender&quot; : &quot;M&quot;,</span><br><span class="line">          &quot;address&quot; : &quot;282 Kings Place&quot;,</span><br><span class="line">          &quot;employer&quot; : &quot;Scentric&quot;,</span><br><span class="line">          &quot;email&quot; : &quot;elinorratliff@scentric.com&quot;,</span><br><span class="line">          &quot;city&quot; : &quot;Ribera&quot;,</span><br><span class="line">          &quot;state&quot; : &quot;WA&quot;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以空格分开代表OR，不区分大小写：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mill lane&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>那要包含这两个则使用：match_phrase</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;match_phrase&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mill lane&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>逻辑查询</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">AND</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bool&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;must&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mill&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lane&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">OR</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bool&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;should&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mill&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lane&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">AND NOT</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bool&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;must_not&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mill&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lane&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">组合</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bool&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;must&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span> <span class="string">&quot;40&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;must_not&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span> <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;state&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ID&quot;</span> <span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Executing-Filters"><a href="#Executing-Filters" class="headerlink" title="Executing Filters"></a>Executing Filters</h2><p>有个_score评分排名项：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;hits&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;_index&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;bank&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_type&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;account&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_id&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;253&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_score&quot;</span> <span class="punctuation">:</span> <span class="number">1.0</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;_source&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>可以使用filter来过滤：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bool&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;must&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;match_all&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span> <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;filter&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;range&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;balance&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;gte&quot;</span><span class="punctuation">:</span> <span class="number">20000</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;lte&quot;</span><span class="punctuation">:</span> <span class="number">30000</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Executing-Aggregations"><a href="#Executing-Aggregations" class="headerlink" title="Executing Aggregations"></a>Executing Aggregations</h2><p>聚合类似于SQL的Group By</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc my-data]$ curl -XGET &#x27;localhost:9200/bank/_search?pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">  <span class="string">&quot;size&quot;</span>: 0,</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">  <span class="string">&quot;aggs&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">    <span class="string">&quot;group_by_state&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">      <span class="string">&quot;terms&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">        <span class="string">&quot;field&quot;</span>: <span class="string">&quot;state.keyword&quot;</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">      &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">    &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">  &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">&#x27;</span></span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 38,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 5,</span><br><span class="line">    &quot;successful&quot; : 5,</span><br><span class="line">    &quot;skipped&quot; : 0,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 1000,</span><br><span class="line">    &quot;max_score&quot; : 0.0,</span><br><span class="line">    &quot;hits&quot; : [ ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;aggregations&quot; : &#123;</span><br><span class="line">    &quot;group_by_state&quot; : &#123;</span><br><span class="line">      &quot;doc_count_error_upper_bound&quot; : 20,</span><br><span class="line">      &quot;sum_other_doc_count&quot; : 770,</span><br><span class="line">      &quot;buckets&quot; : [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;key&quot; : &quot;ID&quot;,</span><br><span class="line">          &quot;doc_count&quot; : 27</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;key&quot; : &quot;TX&quot;,</span><br><span class="line">          &quot;doc_count&quot; : 27</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;key&quot; : &quot;AL&quot;,</span><br><span class="line">          &quot;doc_count&quot; : 25</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;key&quot; : &quot;MD&quot;,</span><br><span class="line">          &quot;doc_count&quot; : 25</span><br><span class="line">        &#125;,</span><br></pre></td></tr></table></figure>
<p>等价于：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> state, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> bank <span class="keyword">GROUP</span> <span class="keyword">BY</span> state <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>
<p>再进行聚合求他们balance的均值：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc my-data]$ curl -XGET &#x27;localhost:9200/bank/_search?pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">  <span class="string">&quot;size&quot;</span>: 0,</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">  <span class="string">&quot;aggs&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">    <span class="string">&quot;group_by_state&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">      <span class="string">&quot;terms&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">        <span class="string">&quot;field&quot;</span>: <span class="string">&quot;state.keyword&quot;</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">      &#125;,</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">      <span class="string">&quot;aggs&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">        <span class="string">&quot;average_balance&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">          <span class="string">&quot;avg&quot;</span>: &#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">            <span class="string">&quot;field&quot;</span>: <span class="string">&quot;balance&quot;</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">          &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">        &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">      &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">    &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">  &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">&#x27;</span></span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 15,</span><br><span class="line">  &quot;timed_out&quot; : false,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 5,</span><br><span class="line">    &quot;successful&quot; : 5,</span><br><span class="line">    &quot;skipped&quot; : 0,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hits&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 1000,</span><br><span class="line">    &quot;max_score&quot; : 0.0,</span><br><span class="line">    &quot;hits&quot; : [ ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;aggregations&quot; : &#123;</span><br><span class="line">    &quot;group_by_state&quot; : &#123;</span><br><span class="line">      &quot;doc_count_error_upper_bound&quot; : 20,</span><br><span class="line">      &quot;sum_other_doc_count&quot; : 770,</span><br><span class="line">      &quot;buckets&quot; : [</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;key&quot; : &quot;ID&quot;,</span><br><span class="line">          &quot;doc_count&quot; : 27,</span><br><span class="line">          &quot;average_balance&quot; : &#123;</span><br><span class="line">            &quot;value&quot; : 24368.777777777777</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;key&quot; : &quot;TX&quot;,</span><br><span class="line">          &quot;doc_count&quot; : 27,</span><br><span class="line">          &quot;average_balance&quot; : &#123;</span><br><span class="line">            &quot;value&quot; : 27462.925925925927</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          &quot;key&quot; : &quot;AL&quot;,</span><br><span class="line">          &quot;doc_count&quot; : 25,</span><br><span class="line">          &quot;average_balance&quot; : &#123;</span><br><span class="line">            &quot;value&quot; : 25739.56</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>再按均值降序排列：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;aggs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;group_by_state&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;terms&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;field&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state.keyword&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;order&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;average_balance&quot;</span><span class="punctuation">:</span> <span class="string">&quot;desc&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;aggs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;average_balance&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;avg&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;field&quot;</span><span class="punctuation">:</span> <span class="string">&quot;balance&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>下面是先对不同年龄段的人聚类，再按性别，再求平均收支的结果：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">操作：</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;size&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;aggs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;group_by_age&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;range&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;field&quot;</span><span class="punctuation">:</span> <span class="string">&quot;age&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;ranges&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;from&quot;</span><span class="punctuation">:</span> <span class="number">20</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;to&quot;</span><span class="punctuation">:</span> <span class="number">30</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;from&quot;</span><span class="punctuation">:</span> <span class="number">30</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;to&quot;</span><span class="punctuation">:</span> <span class="number">40</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;from&quot;</span><span class="punctuation">:</span> <span class="number">40</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;to&quot;</span><span class="punctuation">:</span> <span class="number">50</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;aggs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;group_by_gender&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;terms&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;field&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gender.keyword&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;aggs&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;average_balance&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;avg&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;field&quot;</span><span class="punctuation">:</span> <span class="string">&quot;balance&quot;</span></span><br><span class="line">              <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">结果：</span><br><span class="line">  <span class="attr">&quot;aggregations&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;group_by_age&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;buckets&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;key&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;20.0-30.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;from&quot;</span> <span class="punctuation">:</span> <span class="number">20.0</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;to&quot;</span> <span class="punctuation">:</span> <span class="number">30.0</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;doc_count&quot;</span> <span class="punctuation">:</span> <span class="number">451</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;group_by_gender&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;doc_count_error_upper_bound&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;sum_other_doc_count&quot;</span> <span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;buckets&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">              <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;key&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;M&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;doc_count&quot;</span> <span class="punctuation">:</span> <span class="number">232</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;average_balance&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                  <span class="attr">&quot;value&quot;</span> <span class="punctuation">:</span> <span class="number">27374.05172413793</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">              <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">              <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;key&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;F&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;doc_count&quot;</span> <span class="punctuation">:</span> <span class="number">219</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;average_balance&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                  <span class="attr">&quot;value&quot;</span> <span class="punctuation">:</span> <span class="number">25341.260273972603</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">              <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<a href="/2018/03/17/elasticsearch/004-configure/" title="05-elasticsearch配置">05-elasticsearch配置</a>


      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>对数据的各种查询.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/15/elasticsearch/003-data-explore/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/15/elasticsearch/003-data-explore/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/15/elasticsearch/003-data-explore/" data-id="cl1fw7fjc004bvkd3a7rrfo7n" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a><span class="article-tag-list-count">7</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-elasticsearch/002-modify-data" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/14/elasticsearch/002-modify-data/" class="article-date">
  <time datetime="2018-03-14T01:34:32.000Z" itemprop="datePublished">2018-03-14</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/14/elasticsearch/002-modify-data/">03elasticsearch修改数据</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>修改数据也是必修课.</p>
<h1 id="Modifying-Your-Data"><a href="#Modifying-Your-Data" class="headerlink" title="Modifying Your Data"></a>Modifying Your Data</h1><p>从<a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/_modifying_your_data.html">modifying_your_data.html</a>开始</p>
<p>再把数据建回来：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPUT &#x27;localhost:9200/customer/doc/1?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe&quot;</span></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">&#x27;</span></span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;result&quot; : &quot;created&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 0,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当我们再次执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPUT &#x27;localhost:9200/customer/doc/1?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;name&quot;: &quot;John Doe&quot; &#125; &#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 2,</span><br><span class="line">  &quot;result&quot; : &quot;updated&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 1,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>会发现版本、序列号变了，结果变为updated。</p>
<p>我们再放一个ID&#x3D;2的：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPUT &#x27;localhost:9200/customer/doc/2?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;name&quot;: &quot;Jane Doe&quot; &#125; &#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;2&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;result&quot; : &quot;created&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 0,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当我们不指定ID时，以POST方式提交，会有个随机ID值：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPOST &#x27;localhost:9200/customer/doc?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;name&quot;: &quot;Jane Doe&quot; &#125; &#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;KcZ4F2ABxI3idTrh9-Z0&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;result&quot; : &quot;created&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 1,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Updating-Documents"><a href="#Updating-Documents" class="headerlink" title="Updating Documents"></a>Updating Documents</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPOST &#x27;localhost:9200/customer/doc/1/_update?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;doc&quot;: &#123; &quot;name&quot;: &quot;Jane Doe&quot; &#125; &#125; &#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 3,</span><br><span class="line">  &quot;result&quot; : &quot;updated&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 2,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">增加字段</span></span><br><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPOST &#x27;localhost:9200/customer/doc/1/_update?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;doc&quot;: &#123; &quot;name&quot;: &quot;Jane Doe&quot;, &quot;age&quot;: 20 &#125; &#125; &#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">做运算</span></span><br><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPOST &#x27;localhost:9200/customer/doc/1/_update?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;script&quot; : &quot;ctx._source.age += 5&quot; &#125; &#x27;  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">现在的结果</span></span><br><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XGET &#x27;localhost:9200/customer/doc/1?pretty&amp;pretty&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 5,</span><br><span class="line">  &quot;found&quot; : true,</span><br><span class="line">  &quot;_source&quot; : &#123;</span><br><span class="line">    &quot;name&quot; : &quot;Jane Doe&quot;,</span><br><span class="line">    &quot;age&quot; : 25</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Deleting-Documents"><a href="#Deleting-Documents" class="headerlink" title="Deleting Documents"></a>Deleting Documents</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XDELETE &#x27;localhost:9200/customer/doc/2?pretty&amp;pretty&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;2&quot;,</span><br><span class="line">  &quot;_version&quot; : 2,</span><br><span class="line">  &quot;result&quot; : &quot;deleted&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 2,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Batch-Processing"><a href="#Batch-Processing" class="headerlink" title="Batch Processing"></a>Batch Processing</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPOST &#x27;localhost:9200/customer/doc/_bulk?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="string">&quot;index&quot;</span>:&#123;<span class="string">&quot;_id&quot;</span>:<span class="string">&quot;1&quot;</span>&#125;&#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe&quot;</span> &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="string">&quot;index&quot;</span>:&#123;<span class="string">&quot;_id&quot;</span>:<span class="string">&quot;2&quot;</span>&#125;&#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Jane Doe&quot;</span> &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">&#x27;</span></span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 38,</span><br><span class="line">  &quot;errors&quot; : false,</span><br><span class="line">  &quot;items&quot; : [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;index&quot; : &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">        &quot;_version&quot; : 6,</span><br><span class="line">        &quot;result&quot; : &quot;updated&quot;,</span><br><span class="line">        &quot;_shards&quot; : &#123;</span><br><span class="line">          &quot;total&quot; : 2,</span><br><span class="line">          &quot;successful&quot; : 1,</span><br><span class="line">          &quot;failed&quot; : 0</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;_seq_no&quot; : 5,</span><br><span class="line">        &quot;_primary_term&quot; : 1,</span><br><span class="line">        &quot;status&quot; : 200</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;index&quot; : &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;2&quot;,</span><br><span class="line">        &quot;_version&quot; : 1,</span><br><span class="line">        &quot;result&quot; : &quot;created&quot;,</span><br><span class="line">        &quot;_shards&quot; : &#123;</span><br><span class="line">          &quot;total&quot; : 2,</span><br><span class="line">          &quot;successful&quot; : 1,</span><br><span class="line">          &quot;failed&quot; : 0</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;_seq_no&quot; : 3,</span><br><span class="line">        &quot;_primary_term&quot; : 1,</span><br><span class="line">        &quot;status&quot; : 201</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>下面再更新和删除：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPOST &#x27;localhost:9200/customer/doc/_bulk?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27;</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="string">&quot;update&quot;</span>:&#123;<span class="string">&quot;_id&quot;</span>:<span class="string">&quot;1&quot;</span>&#125;&#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="string">&quot;doc&quot;</span>: &#123; <span class="string">&quot;name&quot;</span>: <span class="string">&quot;John Doe becomes Jane Doe&quot;</span> &#125; &#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">&#123;<span class="string">&quot;delete&quot;</span>:&#123;<span class="string">&quot;_id&quot;</span>:<span class="string">&quot;2&quot;</span>&#125;&#125;</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="string">&#x27;</span></span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;took&quot; : 55,</span><br><span class="line">  &quot;errors&quot; : false,</span><br><span class="line">  &quot;items&quot; : [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;update&quot; : &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">        &quot;_version&quot; : 7,</span><br><span class="line">        &quot;result&quot; : &quot;updated&quot;,</span><br><span class="line">        &quot;_shards&quot; : &#123;</span><br><span class="line">          &quot;total&quot; : 2,</span><br><span class="line">          &quot;successful&quot; : 1,</span><br><span class="line">          &quot;failed&quot; : 0</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;_seq_no&quot; : 6,</span><br><span class="line">        &quot;_primary_term&quot; : 1,</span><br><span class="line">        &quot;status&quot; : 200</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;delete&quot; : &#123;</span><br><span class="line">        &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">        &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">        &quot;_id&quot; : &quot;2&quot;,</span><br><span class="line">        &quot;_version&quot; : 2,</span><br><span class="line">        &quot;result&quot; : &quot;deleted&quot;,</span><br><span class="line">        &quot;_shards&quot; : &#123;</span><br><span class="line">          &quot;total&quot; : 2,</span><br><span class="line">          &quot;successful&quot; : 1,</span><br><span class="line">          &quot;failed&quot; : 0</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;_seq_no&quot; : 4,</span><br><span class="line">        &quot;_primary_term&quot; : 1,</span><br><span class="line">        &quot;status&quot; : 200</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a href="/2018/03/15/elasticsearch/003-data-explore/" title="04-数据检索">04-数据检索</a>
      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>修改数据也是必修课.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/14/elasticsearch/002-modify-data/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/14/elasticsearch/002-modify-data/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/14/elasticsearch/002-modify-data/" data-id="cl1fw7fjc004avkd335tj4zmn" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a><span class="article-tag-list-count">7</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-js/000-echarts-graph" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/13/js/000-echarts-graph/" class="article-date">
  <time datetime="2018-03-13T00:38:44.000Z" itemprop="datePublished">2018-03-13</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/13/js/000-echarts-graph/">echarts中的graph demo</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>关于echart-graph,一个乔布斯关系图demo.</p>
<h1 id="上代码"><a href="#上代码" class="headerlink" title="上代码"></a>上代码</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 引入 ECharts 文件 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;echarts.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 1000px;height:600px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;main&#x27;</span>));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        option1 = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">title</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">text</span>: <span class="string">&#x27;人物关系：乔布斯&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">subtext</span>: <span class="string">&#x27;数据来自人立方&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">top</span>: <span class="string">&#x27;top&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">left</span>: <span class="string">&#x27;middle&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">animationDuration</span>: <span class="number">1500</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">animationEasingUpdate</span>: <span class="string">&#x27;quinticInOut&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">tooltip</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">trigger</span>: <span class="string">&#x27;item&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">formatter</span>: <span class="string">&#x27;&#123;a&#125; : &#123;b&#125;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">toolbox</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">show</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">feature</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">restore</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">magicType</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span>, <span class="attr">type</span>: [<span class="string">&#x27;force&#x27;</span>, <span class="string">&#x27;chord&#x27;</span>] &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">saveAsImage</span>: &#123; <span class="attr">show</span>: <span class="literal">true</span> &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">legend</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">x</span>: <span class="string">&#x27;left&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">data</span>: [<span class="string">&#x27;家人&#x27;</span>, <span class="string">&#x27;朋友&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">series</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">type</span>: <span class="string">&#x27;graph&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">name</span>: <span class="string">&quot;人物关系&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">layout</span>: <span class="string">&#x27;force&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">categories</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;人物&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;家人&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;朋友&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">label</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="attr">show</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="attr">position</span>: <span class="string">&#x27;inside&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">lineStyle</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        <span class="attr">normal</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">color</span>: <span class="string">&#x27;source&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">curveness</span>: <span class="number">0.3</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    ,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="comment">// minRadius: 15,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="comment">// maxRadius: 25,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">roam</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">nodes</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">category</span>: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">name</span>: <span class="string">&#x27;乔布斯&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">value</span>: <span class="number">10</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">symbolSize</span>: <span class="number">50</span>,<span class="comment">//[60, 35],</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">draggable</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;丽萨-乔布斯&#x27;</span>, <span class="attr">value</span>: <span class="number">2</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;保罗-乔布斯&#x27;</span>, <span class="attr">value</span>: <span class="number">3</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;克拉拉-乔布斯&#x27;</span>, <span class="attr">value</span>: <span class="number">3</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">&#x27;劳伦-鲍威尔&#x27;</span>, <span class="attr">value</span>: <span class="number">7</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;史蒂夫-沃兹尼艾克&#x27;</span>, <span class="attr">value</span>: <span class="number">5</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;奥巴马&#x27;</span>, <span class="attr">value</span>: <span class="number">8</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;比尔-盖茨&#x27;</span>, <span class="attr">value</span>: <span class="number">9</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;乔纳森-艾夫&#x27;</span>, <span class="attr">value</span>: <span class="number">4</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;蒂姆-库克&#x27;</span>, <span class="attr">value</span>: <span class="number">4</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">category</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">&#x27;龙-韦恩&#x27;</span>, <span class="attr">value</span>: <span class="number">1</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="attr">links</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">source</span>: <span class="string">&#x27;丽萨-乔布斯&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;女儿&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            <span class="attr">source</span>: <span class="string">&#x27;乔布斯&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;丽萨-乔布斯&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;父亲&#x27;</span>, <span class="attr">itemStyle</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                                <span class="attr">normal</span>: &#123; <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span> &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;保罗-乔布斯&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;父亲&#x27;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;克拉拉-乔布斯&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;母亲&#x27;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;劳伦-鲍威尔&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;史蒂夫-沃兹尼艾克&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;合伙人&#x27;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;奥巴马&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;比尔-盖茨&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;竞争对手&#x27;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;乔纳森-艾夫&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;爱将&#x27;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;蒂姆-库克&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;龙-韦恩&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔布斯&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;龙-韦恩&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;乔纳森-艾夫&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;克拉拉-乔布斯&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;保罗-乔布斯&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;奥巴马&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;保罗-乔布斯&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;奥巴马&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;克拉拉-乔布斯&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;奥巴马&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;劳伦-鲍威尔&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;奥巴马&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;史蒂夫-沃兹尼艾克&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;比尔-盖茨&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;奥巴马&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;比尔-盖茨&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;克拉拉-乔布斯&#x27;</span>, &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                        &#123; <span class="attr">source</span>: <span class="string">&#x27;蒂姆-库克&#x27;</span>, <span class="attr">target</span>: <span class="string">&#x27;奥巴马&#x27;</span>, &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        myChart.<span class="title function_">setOption</span>(option1);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>效果:</p>
<img src="/2018/03/13/js/000-echarts-graph/000.png" class="" title="demo-graph">
      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>关于echart-graph,一个乔布斯关系图demo.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/13/js/000-echarts-graph/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/13/js/000-echarts-graph/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/13/js/000-echarts-graph/" data-id="cl1fw7fjr005hvkd37k1s4fec" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/" rel="tag">html</a><span class="article-tag-list-count">2</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/" rel="tag">javascript</a><span class="article-tag-list-count">4</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/web/" rel="tag">web</a><span class="article-tag-list-count">1</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-python/004-python-common-use" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/12/python/004-python-common-use/" class="article-date">
  <time datetime="2018-03-12T02:36:29.000Z" itemprop="datePublished">2018-03-12</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/12/python/004-python-common-use/">python中的常用操作</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>真的很常用诶.</p>
<h1 id="对dict排序"><a href="#对dict排序" class="headerlink" title="对dict排序"></a>对dict排序</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># regular unsorted dictionary</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">&#x27;banana&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;apple&#x27;</span>:<span class="number">4</span>, <span class="string">&#x27;pear&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;orange&#x27;</span>: <span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># dictionary sorted by key -- OrderedDict(sorted(d.items()) also works</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>OrderedDict(<span class="built_in">sorted</span>(d.items(), key=<span class="keyword">lambda</span> t: t[<span class="number">0</span>]))</span><br><span class="line">OrderedDict([(<span class="string">&#x27;apple&#x27;</span>, <span class="number">4</span>), (<span class="string">&#x27;banana&#x27;</span>, <span class="number">3</span>), (<span class="string">&#x27;orange&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;pear&#x27;</span>, <span class="number">1</span>)])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># dictionary sorted by value</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>OrderedDict(<span class="built_in">sorted</span>(d.items(), key=<span class="keyword">lambda</span> t: t[<span class="number">1</span>]))</span><br><span class="line">OrderedDict([(<span class="string">&#x27;pear&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;orange&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;banana&#x27;</span>, <span class="number">3</span>), (<span class="string">&#x27;apple&#x27;</span>, <span class="number">4</span>)])</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># dictionary sorted by length of the key string</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>OrderedDict(<span class="built_in">sorted</span>(d.items(), key=<span class="keyword">lambda</span> t: <span class="built_in">len</span>(t[<span class="number">0</span>])))</span><br><span class="line">OrderedDict([(<span class="string">&#x27;pear&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;apple&#x27;</span>, <span class="number">4</span>), (<span class="string">&#x27;orange&#x27;</span>, <span class="number">2</span>), (<span class="string">&#x27;banana&#x27;</span>, <span class="number">3</span>)])</span><br></pre></td></tr></table></figure>
<p>简单点:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="number">2</span>:<span class="number">3</span>, <span class="number">1</span>:<span class="number">89</span>, <span class="number">4</span>:<span class="number">5</span>, <span class="number">3</span>:<span class="number">0</span>&#125;</span><br><span class="line">sd = <span class="built_in">sorted</span>(d.items())</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> sd:</span><br><span class="line">    <span class="built_in">print</span> k, v</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">1 89</span></span><br><span class="line"><span class="string">2 3</span></span><br><span class="line"><span class="string">3 0</span></span><br><span class="line"><span class="string">4 5</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="统计list中元素个数"><a href="#统计list中元素个数" class="headerlink" title="统计list中元素个数"></a>统计list中元素个数</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">34</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: Counter(a)</span><br><span class="line">Out[<span class="number">3</span>]: Counter(&#123;<span class="number">1</span>: <span class="number">3</span>, <span class="number">2</span>: <span class="number">2</span>, <span class="number">3</span>: <span class="number">1</span>, <span class="number">5</span>: <span class="number">1</span>, <span class="number">6</span>: <span class="number">1</span>, <span class="number">34</span>: <span class="number">1</span>&#125;)</span><br></pre></td></tr></table></figure>
<h1 id="那些解析"><a href="#那些解析" class="headerlink" title="那些解析"></a>那些解析</h1><p>解析json字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">j = json.loads(<span class="string">&#x27;&#123;&quot;one&quot; : &quot;1&quot;, &quot;two&quot; : &quot;2&quot;, &quot;three&quot; : &quot;3&quot;&#125;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> j[<span class="string">&#x27;two&#x27;</span>]</span><br></pre></td></tr></table></figure>
<p>写入和读取python数据结构到文件:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Writing JSON data</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data, f)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Reading data back</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.load(f)</span><br></pre></td></tr></table></figure>
<p>对于中文,如果想写入文件时不进行编码,可以指定ensure_ascii&#x3D;False</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">json.dump(obj,f,ensure_ascii=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<h1 id="python里计时"><a href="#python里计时" class="headerlink" title="python里计时"></a>python里计时</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">start = time.time()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">end = time.time()</span><br><span class="line"><span class="built_in">print</span>(end - start)</span><br></pre></td></tr></table></figure>
<h1 id="slice-dict"><a href="#slice-dict" class="headerlink" title="slice dict"></a>slice dict</h1><p>dict本来不能像list那样slice,但itertools可以:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">14</span>]: a = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">15</span>]: a[:]</span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">15</span>-6ced218e2c37&gt; <span class="keyword">in</span> &lt;module&gt;()</span><br><span class="line">----&gt; <span class="number">1</span> a[:]</span><br><span class="line"></span><br><span class="line">TypeError: unhashable <span class="built_in">type</span>: <span class="string">&#x27;slice&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">16</span>]: <span class="keyword">import</span> itertools</span><br><span class="line"></span><br><span class="line">In [<span class="number">17</span>]: <span class="built_in">dict</span>(itertools.islice(a.items(),<span class="number">1</span>))</span><br><span class="line">Out[<span class="number">17</span>]: &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>&#125;</span><br></pre></td></tr></table></figure>
<h1 id="检查NAN"><a href="#检查NAN" class="headerlink" title="检查NAN"></a>检查NAN</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> math</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x=<span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>math.isnan(x)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h1 id="快速清除文件内容"><a href="#快速清除文件内容" class="headerlink" title="快速清除文件内容"></a>快速清除文件内容</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">open</span>(<span class="string">&#x27;file.txt&#x27;</span>,<span class="string">&#x27;w).close()</span></span><br></pre></td></tr></table></figure>
<h1 id="列出文件夹内容与正则过滤"><a href="#列出文件夹内容与正则过滤" class="headerlink" title="列出文件夹内容与正则过滤"></a>列出文件夹内容与正则过滤</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: os.listdir(<span class="string">&#x27;./&#x27;</span>)</span><br><span class="line">Out[<span class="number">2</span>]:</span><br><span class="line">[<span class="string">&#x27;0307_nodes.txt&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;0307_links.txt&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;0901_nodes.txt&#x27;</span>,</span><br><span class="line"> <span class="string">&#x27;0901_links.txt&#x27;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>其实python提供有过滤的库函数fnmatch,glob等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">path = <span class="string">&quot;/home/relation-data-2015/&quot;</span></span><br><span class="line">files = fnmatch.<span class="built_in">filter</span>(os.listdir(path),<span class="string">&#x27;*_single_links.txt&#x27;</span>)</span><br><span class="line">files</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[&#x27;0101_single_links.txt&#x27;,</span></span><br><span class="line"><span class="string"> &#x27;0901_single_links.txt&#x27;,</span></span><br><span class="line"><span class="string"> &#x27;0201_single_links.txt&#x27;,</span></span><br><span class="line"><span class="string"> &#x27;0307_single_links.txt&#x27;,</span></span><br><span class="line"><span class="string"> &#x27;0402_single_links.txt&#x27;,</span></span><br><span class="line"><span class="string"> &#x27;0215_single_links.txt&#x27;,</span></span><br><span class="line"><span class="string"> &#x27;0408_single_links.txt&#x27;,</span></span><br><span class="line"><span class="string"> &#x27;0501_single_links.txt&#x27;]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h1 id="sorted函数"><a href="#sorted函数" class="headerlink" title="sorted函数"></a>sorted函数</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">4</span>]: l = [&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>&#125;,&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">4</span>&#125;,&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">2</span>&#125;]</span><br><span class="line"></span><br><span class="line">In [<span class="number">5</span>]: <span class="built_in">sorted</span>(l,key=<span class="keyword">lambda</span> d:d[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line">Out[<span class="number">5</span>]: [&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">2</span>&#125;, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">4</span>&#125;]</span><br></pre></td></tr></table></figure>
<p>注意,这并不会改变原有列表:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">6</span>]: l</span><br><span class="line">Out[<span class="number">6</span>]: [&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">4</span>&#125;, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">2</span>&#125;]</span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: l = <span class="built_in">sorted</span>(l,key=<span class="keyword">lambda</span> d:d[<span class="string">&#x27;a&#x27;</span>])</span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: l</span><br><span class="line">Out[<span class="number">8</span>]: [&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>&#125;, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">2</span>&#125;, &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">4</span>&#125;]</span><br></pre></td></tr></table></figure>
<h1 id="修改dict的key值"><a href="#修改dict的key值" class="headerlink" title="修改dict的key值"></a>修改dict的key值</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">1</span>]: d = &#123;<span class="string">&#x27;女&#x27;</span>: <span class="number">176</span>, <span class="string">&#x27;男&#x27;</span>: <span class="number">517</span>&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">2</span>]: d[<span class="string">&#x27;female&#x27;</span>] = d.pop(<span class="string">&#x27;女&#x27;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: d</span><br><span class="line">Out[<span class="number">3</span>]: &#123;<span class="string">&#x27;female&#x27;</span>: <span class="number">176</span>, <span class="string">&#x27;男&#x27;</span>: <span class="number">517</span>&#125;</span><br></pre></td></tr></table></figure>
<h1 id="取得dict的第一个key"><a href="#取得dict的第一个key" class="headerlink" title="取得dict的第一个key"></a>取得dict的第一个key</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># way 1</span></span><br><span class="line">my_dict = &#123;<span class="string">&#x27;foo&#x27;</span>: <span class="string">&#x27;bar&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">next</span>(<span class="built_in">iter</span>(my_dict)) <span class="comment"># outputs &#x27;foo&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># way 2</span></span><br><span class="line"><span class="built_in">list</span>(my_dict.keys())[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h1 id="取得list里最频繁项"><a href="#取得list里最频繁项" class="headerlink" title="取得list里最频繁项"></a>取得list里最频繁项</h1><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/1518522/python-most-common-element-in-a-list">stackoverflow-python-most-common-element-in-a-list</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># way 1</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Most_Common</span>(<span class="params">lst</span>):</span><br><span class="line">    data = Counter(lst)</span><br><span class="line">    <span class="keyword">return</span> data.most_common(<span class="number">1</span>)[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># way 2</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">most_common</span>(<span class="params">lst</span>):</span><br><span class="line">    data = Counter(lst)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(lst, key=data.get)</span><br><span class="line"></span><br><span class="line"><span class="comment"># way 3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> statistics <span class="keyword">import</span> mode</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mode([<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>])</span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># way 4</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">most_common</span>(<span class="params">lst</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(<span class="built_in">set</span>(lst), key=lst.count)</span><br></pre></td></tr></table></figure>
<h1 id="删除连续空格只保留一个"><a href="#删除连续空格只保留一个" class="headerlink" title="删除连续空格只保留一个"></a>删除连续空格只保留一个</h1><ol>
<li>用2个空格替换成一个空格,需要循环替换<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;1    3   5&#x27;</span></span><br><span class="line"><span class="keyword">while</span> a.find(<span class="string">&#x27;  &#x27;</span>) != -<span class="number">1</span>:</span><br><span class="line">    a = a.replace(<span class="string">&#x27;  &#x27;</span>, <span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li>先分开再用join<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27; &#x27;</span>.join(s.split())</span><br></pre></td></tr></table></figure>
<h1 id="日期操作"><a href="#日期操作" class="headerlink" title="日期操作"></a>日期操作</h1>获得年月日<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line">today = datetime.today()</span><br><span class="line">today.day/month/year</span><br></pre></td></tr></table></figure>
计算日期之间的月份差<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,date</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">month_delta</span>(<span class="params">start_date, end_date=datetime.now(<span class="params"></span>).date(<span class="params"></span>)</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    返回 end_date  - start_date  的差值</span></span><br><span class="line"><span class="string">        :param start_date:</span></span><br><span class="line"><span class="string">        :param end_date:</span></span><br><span class="line"><span class="string">        :return:  month_delta   int</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    flag = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">if</span> start_date &gt; end_date:</span><br><span class="line">        start_date, end_date = end_date, start_date</span><br><span class="line">        flag = <span class="literal">False</span></span><br><span class="line">    year_diff = end_date.year - start_date.year</span><br><span class="line">    end_month = year_diff * <span class="number">12</span> + end_date.month</span><br><span class="line">    delta = end_month - start_date.month</span><br><span class="line">    <span class="comment"># return -delta if flag is False else delta</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(delta)</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>真的很常用诶.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/12/python/004-python-common-use/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/12/python/004-python-common-use/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/12/python/004-python-common-use/" data-id="cl1fw7fn600htvkd33vbdb4lj" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a><span class="article-tag-list-count">15</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-elasticsearch/001-cluster-explore" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/11/elasticsearch/001-cluster-explore/" class="article-date">
  <time datetime="2018-03-11T05:47:11.000Z" itemprop="datePublished">2018-03-11</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/11/elasticsearch/001-cluster-explore/">02elasticsearch集群探索</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>这篇关于elasticsearch集群.</p>
<h1 id="探索集群"><a href="#探索集群" class="headerlink" title="探索集群"></a>探索集群</h1><p>elasticearch提供了标准的接口供访问。</p>
<p>安装很简单，先把集群跑起来：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ ls</span><br><span class="line">bin  config  lib  LICENSE.txt  modules  NOTICE.txt  plugins  README.textile</span><br><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ bin/elasticsearch</span><br></pre></td></tr></table></figure>
<h2 id="Cluster-Health"><a href="#Cluster-Health" class="headerlink" title="Cluster Health"></a>Cluster Health</h2><p>健康状态：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl http://localhost:9200/_cat/health?v</span><br><span class="line">epoch      timestamp cluster       status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent</span><br><span class="line">1512218799 20:46:39  elasticsearch green           1         1      0   0    0    0        0             0                  -                100.0%</span><br></pre></td></tr></table></figure>
<p>注意的就是颜色：</p>
<ul>
<li>Green - everything is good (cluster is fully functional)</li>
<li>Yellow - all data is available but some replicas are not yet allocated (cluster is fully functional)</li>
<li>Red - some data is not available for whatever reason (cluster is partially functional)</li>
</ul>
<p>获得节点列表：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl http://localhost:9200/_cat/nodes?v</span><br><span class="line">ip        heap.percent ram.percent cpu load_1m load_5m load_15m node.role master name</span><br><span class="line">127.0.0.1           22          44   8    0.49    0.45     0.45 mdi       *      I9nSfCF</span><br></pre></td></tr></table></figure>
<h2 id="List-All-Indices"><a href="#List-All-Indices" class="headerlink" title="List All Indices"></a>List All Indices</h2><p>列出所有索引：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl http://localhost:9200/_cat/indices?v</span><br><span class="line">health status index uuid pri rep docs.count docs.deleted store.size pri.store.size</span><br></pre></td></tr></table></figure>
<p>看起来一个都没有。</p>
<h2 id="Create-an-Index"><a href="#Create-an-Index" class="headerlink" title="Create an Index"></a>Create an Index</h2><p>既然没有就创建一个：采用PUT方式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPUT &#x27;localhost:9200/customer?pretty&amp;pretty&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;acknowledged&quot; : true,</span><br><span class="line">  &quot;shards_acknowledged&quot; : true,</span><br><span class="line">  &quot;index&quot; : &quot;customer&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">结果</span></span><br><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XGET &#x27;localhost:9200/_cat/indices?v&amp;pretty&#x27;</span><br><span class="line">health status index    uuid                   pri rep docs.count docs.deleted store.size pri.store.size</span><br><span class="line">yellow open   customer AmBi42pqTlOf9UbIMgvWWw   5   1          0            0      1.1kb          1.1kb</span><br></pre></td></tr></table></figure>
<p>可以看到上面pri（primary shard）和rep（replica）的默认数量。该Index还没有document关联。</p>
<h2 id="Index-and-Query-a-Document"><a href="#Index-and-Query-a-Document" class="headerlink" title="Index and Query a Document"></a>Index and Query a Document</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d 是指定数据，下面创建了一篇ID为1的document</span></span><br><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XPUT &#x27;localhost:9200/customer/doc/1?pretty&amp;pretty&#x27; -H &#x27;Content-Type: application/json&#x27; -d&#x27; &#123; &quot;name&quot;: &quot;John Doe&quot; &#125; &#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;result&quot; : &quot;created&quot;,</span><br><span class="line">  &quot;_shards&quot; : &#123;</span><br><span class="line">    &quot;total&quot; : 2,</span><br><span class="line">    &quot;successful&quot; : 1,</span><br><span class="line">    &quot;failed&quot; : 0</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;_seq_no&quot; : 0,</span><br><span class="line">  &quot;_primary_term&quot; : 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>查询：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XGET &#x27;localhost:9200/customer/doc/1?pretty&amp;pretty&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;_index&quot; : &quot;customer&quot;,</span><br><span class="line">  &quot;_type&quot; : &quot;doc&quot;,</span><br><span class="line">  &quot;_id&quot; : &quot;1&quot;,</span><br><span class="line">  &quot;_version&quot; : 1,</span><br><span class="line">  &quot;found&quot; : true,</span><br><span class="line">  &quot;_source&quot; : &#123;</span><br><span class="line">    &quot;name&quot; : &quot;John Doe&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Delete-an-Index"><a href="#Delete-an-Index" class="headerlink" title="Delete an Index"></a>Delete an Index</h2><p>删除索引：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XDELETE &#x27;localhost:9200/customer?pretty&amp;pretty&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;acknowledged&quot; : true</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">结果：</span></span><br><span class="line">[jimo@jimo-pc elasticsearch-6.0.0]$ curl -XGET &#x27;localhost:9200/_cat/indices?v&amp;pretty&#x27;</span><br><span class="line">health status index uuid pri rep docs.count docs.deleted store.size pri.store.size</span><br></pre></td></tr></table></figure>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>API命令的格式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PUT /customer</span><br><span class="line">PUT /customer/doc/1</span><br><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;John Doe&quot;</span><br><span class="line">&#125;</span><br><span class="line">GET /customer/doc/1</span><br><span class="line">DELETE /customer</span><br></pre></td></tr></table></figure>
<p>模式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;REST Verb&gt; /&lt;Index&gt;/&lt;Type&gt;/&lt;ID&gt;</span><br></pre></td></tr></table></figure>

<a href="/2018/03/14/elasticsearch/002-modify-data/" title="03-数据修改">03-数据修改</a>
      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>这篇关于elasticsearch集群.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/11/elasticsearch/001-cluster-explore/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/11/elasticsearch/001-cluster-explore/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/11/elasticsearch/001-cluster-explore/" data-id="cl1fw7fjb0047vkd3fyrd333w" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a><span class="article-tag-list-count">7</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-elasticsearch/000-basic-concept" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/11/elasticsearch/000-basic-concept/" class="article-date">
  <time datetime="2018-03-11T05:43:29.000Z" itemprop="datePublished">2018-03-11</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/11/elasticsearch/000-basic-concept/">01elasticsearch基础概念</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>elasticsearch必备概念.</p>
<h1 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h1><p>来自：<a target="_blank" rel="noopener" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/_basic_concepts.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/_basic_concepts.html</a></p>
<h2 id="Near-Realtime-NRT"><a href="#Near-Realtime-NRT" class="headerlink" title="Near Realtime (NRT)"></a>Near Realtime (NRT)</h2><p>有大约1秒的延时</p>
<h2 id="Cluster"><a href="#Cluster" class="headerlink" title="Cluster"></a>Cluster</h2><p>node的集合</p>
<h2 id="node"><a href="#node" class="headerlink" title="node"></a>node</h2><p>单一的数据存储和搜索的服务器</p>
<h2 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h2><p>类似于数据库的索引</p>
<h2 id="Type"><a href="#Type" class="headerlink" title="Type"></a>Type</h2><p>索引的类别，逐渐被淘汰</p>
<h2 id="Document"><a href="#Document" class="headerlink" title="Document"></a>Document</h2><p>能够被索引的最小单元，以json格式描述和表示。</p>
<h2 id="Shards-amp-Replica"><a href="#Shards-amp-Replica" class="headerlink" title="Shards &amp; Replica"></a>Shards &amp; Replica</h2><p>Shard：碎片，构成索引的单元，让大的索引可分割，以实现横向拓展；<br>Replica：Shard的备份，为了应对Shard节点的掉线，同时可并行化。</p>
<p>默认：每个Index有5个shard和1个replica，如果将这个Index部署在2个节点上，则共有10个shard。</p>
<h1 id="学习elasticsearch"><a href="#学习elasticsearch" class="headerlink" title="学习elasticsearch"></a>学习elasticsearch</h1><p><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">文档</a></p>
<p><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/cn/elasticsearch/guide/current/foreword_id.html">书</a></p>
<a href="/2018/03/11/elasticsearch/001-cluster-explore/" title="02-集群探索">02-集群探索</a>
      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>elasticsearch必备概念.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/11/elasticsearch/000-basic-concept/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/11/elasticsearch/000-basic-concept/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/11/elasticsearch/000-basic-concept/" data-id="cl1fw7fja0046vkd3d1rm9j14" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a><span class="article-tag-list-count">7</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-lang/002-redis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/09/lang/002-redis/" class="article-date">
  <time datetime="2018-03-09T01:07:39.000Z" itemprop="datePublished">2018-03-09</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/09/lang/002-redis/">我的redis之路</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>这是一条不归路.</p>
<h1 id="掌握基本命令"><a href="#掌握基本命令" class="headerlink" title="掌握基本命令"></a>掌握基本命令</h1><p>跟着官方的web版练习<a target="_blank" rel="noopener" href="http://try.redis.io/">Try Redis</a>即可,我做的文件<a target="_blank" rel="noopener" href="https://github.com/jimolonely/hexo-src/blob/master/source/_posts/lang/002-redis/try-redis.txt">try-redis.txt</a></p>
<p>现在应该学会了以下命令和数据结构:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">set/setnx</span><br><span class="line">incr</span><br><span class="line">del</span><br><span class="line">expire</span><br><span class="line">ttl</span><br><span class="line">(list) lpush/rpush/lrange/lpop/rpop/llen</span><br><span class="line">(set) sadd/srem/sismember/smembers/sunion</span><br><span class="line">(sorted set) zadd/zrange</span><br><span class="line">(hash) hset/hgetall/hmset/hget/hincrby/hdel</span><br></pre></td></tr></table></figure>
<h1 id="熟悉基本功能"><a href="#熟悉基本功能" class="headerlink" title="熟悉基本功能"></a>熟悉基本功能</h1><h1 id="了解redis应用场景"><a href="#了解redis应用场景" class="headerlink" title="了解redis应用场景"></a>了解redis应用场景</h1><ol>
<li>缓存(会话缓存或FPC全页缓存)</li>
<li>队列</li>
<li>排行榜&#x2F;计数榜(得益于其原子递增操作)</li>
<li>pub&#x2F;sub</li>
</ol>
<h1 id="写个应用"><a href="#写个应用" class="headerlink" title="写个应用"></a>写个应用</h1><p>利用其发布&#x2F;订阅功能写个聊天应用.</p>
<h3 id="1-安装redis"><a href="#1-安装redis" class="headerlink" title="1.安装redis"></a>1.安装redis</h3><p>按照官网<a target="_blank" rel="noopener" href="https://redis.io/download">https://redis.io/download</a>做2分钟搞定.</p>
<h3 id="2-来看一下demo"><a href="#2-来看一下demo" class="headerlink" title="2.来看一下demo"></a>2.来看一下demo</h3><p>一个客户端发布,另一个订阅</p>
<p>先开订阅者:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./redis-cli</span> </span><br><span class="line">127.0.0.1:6379&gt; SUBSCRIBE test-channel</span><br><span class="line">Reading messages... (press Ctrl-C to quit)</span><br><span class="line">1) &quot;subscribe&quot;</span><br><span class="line">2) &quot;test-channel&quot;</span><br><span class="line">3) (integer) 1</span><br></pre></td></tr></table></figure>
<p>发布者再发送消息:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; PUBLISH test-channel hello</span><br><span class="line">(integer) 1</span><br><span class="line">127.0.0.1:6379&gt; PUBLISH test-channel &quot;how are you&quot;</span><br><span class="line">(integer) 1</span><br></pre></td></tr></table></figure>
<p>这时候订阅者会收到消息:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1) &quot;message&quot;</span><br><span class="line">2) &quot;test-channel&quot;</span><br><span class="line">3) &quot;hello&quot;</span><br><span class="line">1) &quot;message&quot;</span><br><span class="line">2) &quot;test-channel&quot;</span><br><span class="line">3) &quot;how are you&quot;</span><br></pre></td></tr></table></figure>
<p>更多可以参考文档<a target="_blank" rel="noopener" href="https://redis.io/topics/pubsub">https://redis.io/topics/pubsub</a>.<br>其最后给出了以一个<a target="_blank" rel="noopener" href="https://gist.github.com/pietern/348262">ruby写的多人聊天室</a>,我们要用java来写.</p>
<h3 id="3-java版聊天室"><a href="#3-java版聊天室" class="headerlink" title="3.java版聊天室"></a>3.java版聊天室</h3><p>关于java操作redis的库有很多,我们使用<a target="_blank" rel="noopener" href="https://github.com/xetorthio/jedis/">Jedis</a>.</p>
<p>关于Jedis获取redis实例的操作见:<a target="_blank" rel="noopener" href="https://github.com/xetorthio/jedis/wiki/Getting-started">https://github.com/xetorthio/jedis/wiki/Getting-started</a><br>操作发布&#x2F;订阅见:<a target="_blank" rel="noopener" href="https://github.com/xetorthio/jedis/wiki/AdvancedUsage">https://github.com/xetorthio/jedis/wiki/AdvancedUsage</a></p>
<p>现在的需求:聊天室是多人的,可以发送接受消息.<br>分解开来:用户A发送的消息会推送给所有用户,每当有一个用户上线就需要多一个订阅者和发送者.</p>
<p>服务器:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jimo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPool;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPoolConfig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChatServer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> JedisPool pool;</span><br><span class="line">    <span class="keyword">private</span> PSListener listener;</span><br><span class="line"></span><br><span class="line">    ChatServer() &#123;</span><br><span class="line">        pool = <span class="keyword">new</span> <span class="title class_">JedisPool</span>(<span class="keyword">new</span> <span class="title class_">JedisPoolConfig</span>(), <span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">        listener = <span class="keyword">new</span> <span class="title class_">PSListener</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        pool.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 每增加用户就开一个线程防止阻塞</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userName</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addUser</span><span class="params">(String userName)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="type">JedisPool</span> <span class="variable">pool1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPool</span>(<span class="keyword">new</span> <span class="title class_">JedisPoolConfig</span>(), <span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">                <span class="keyword">try</span> (<span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> pool1.getResource()) &#123;</span><br><span class="line">                    jedis.psubscribe(listener, <span class="string">&quot;chat*&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 将消息推送给所有用户</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> msg</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (<span class="type">Jedis</span> <span class="variable">jedis</span> <span class="operator">=</span> pool.getResource()) &#123;</span><br><span class="line">            jedis.publish(<span class="string">&quot;chat4&quot;</span>, msg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>测试:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jimo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ChatServer</span> <span class="variable">chatServer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChatServer</span>();</span><br><span class="line"></span><br><span class="line">        chatServer.addUser(<span class="string">&quot;chat1&quot;</span>);</span><br><span class="line">        chatServer.addUser(<span class="string">&quot;chat2&quot;</span>);</span><br><span class="line">        chatServer.sendMsg(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        chatServer.sendMsg(<span class="string">&quot;xixihaha&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        chatServer.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Listener:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.jimo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPubSub;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PSListener</span> <span class="keyword">extends</span> <span class="title class_">JedisPubSub</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onMessage</span><span class="params">(String channel, String message)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;收到channel[&quot;</span> + channel + <span class="string">&quot;]的消息:&quot;</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPMessage</span><span class="params">(String pattern, String channel, String message)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;p收到channel[&quot;</span> + channel + <span class="string">&quot;]的消息:&quot;</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSubscribe</span><span class="params">(String channel, <span class="type">int</span> subscribedChannels)</span> &#123;</span><br><span class="line">        System.out.println(channel + <span class="string">&quot;被订阅&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onUnsubscribe</span><span class="params">(String channel, <span class="type">int</span> subscribedChannels)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPUnsubscribe</span><span class="params">(String pattern, <span class="type">int</span> subscribedChannels)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onPSubscribe</span><span class="params">(String pattern, <span class="type">int</span> subscribedChannels)</span> &#123;</span><br><span class="line">        System.out.println(subscribedChannels + <span class="string">&quot;被订阅:&quot;</span> + pattern);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码是有问题的,自己发送的消息也会被推送回来.</p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>这是一条不归路.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/09/lang/002-redis/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/09/lang/002-redis/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/09/lang/002-redis/" data-id="cl1fw7fm100dnvkd3c8977r8v" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/redis/" rel="tag">redis</a><span class="article-tag-list-count">12</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-android/000-adb-root" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/06/android/000-adb-root/" class="article-date">
  <time datetime="2018-03-06T07:22:57.000Z" itemprop="datePublished">2018-03-06</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/06/android/000-adb-root/">adb使用root权限调试</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>使用adb root调试Android手机.</p>
<h1 id="使用环境"><a href="#使用环境" class="headerlink" title="使用环境"></a>使用环境</h1><p>使用Google手机模拟器.查看下设备:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">adb devices</span></span><br><span class="line">List of devices attached</span><br><span class="line">emulator-5554	device</span><br></pre></td></tr></table></figure>
<p>直接用adb shell进入调试时会发现permission denied:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">adb shell</span></span><br><span class="line">generic_x86:/ $ pwd</span><br><span class="line">/</span><br><span class="line">generic_x86:/ $ ls</span><br><span class="line">ls: ./ueventd.rc: Permission denied</span><br><span class="line">ls: ./ueventd.ranchu.rc: Permission denied</span><br><span class="line">ls: ./init.zygote32.rc: Permission denied</span><br><span class="line">acct  bugreports  cache  charger  config  d  data  default.prop  dev  etc  mnt  oem  proc  root  sbin  sdcard  storage  sys  system  var  vendor</span><br></pre></td></tr></table></figure>
<p>解决办法,先切换到root用户:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">adb root</span></span><br><span class="line">restarting adbd as root</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">adb root</span></span><br><span class="line">adbd is already running as root</span><br></pre></td></tr></table></figure>
<p>再进入就ok了:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">adb shell</span></span><br><span class="line">generic_x86:/ # whoami</span><br><span class="line">root</span><br><span class="line">generic_x86:/ # ls data</span><br><span class="line">adb  app-asec       app-private    bootchart     data   lost+found  misc     nativetest   property        system     tombstones  var     </span><br><span class="line">anr  app-ephemeral  backup         cache         drm    media       misc_ce  ota          resource-cache  system_ce  user        vendor  </span><br><span class="line">app  app-lib        benchmarktest  dalvik-cache  local  mediadrm    misc_de  ota_package  ss              system_de  user_de</span><br></pre></td></tr></table></figure>
<h1 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h1><p>要在实体机上使用时必须root手机才行.</p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>使用adb root调试Android手机.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/06/android/000-adb-root/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/06/android/000-adb-root/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/06/android/000-adb-root/" data-id="cl1fw7fhi0009vkd3d05820x3" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/" rel="tag">android</a><span class="article-tag-list-count">2</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="article-tag-list-count">57</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-lang/001-ant" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/06/lang/001-ant/" class="article-date">
  <time datetime="2018-03-06T02:39:22.000Z" itemprop="datePublished">2018-03-06</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/06/lang/001-ant/">Ant必经之路</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>这一款构建工具Ant不知道怎么样.</p>
<h1 id="什么是Ant"><a href="#什么是Ant" class="headerlink" title="什么是Ant"></a>什么是Ant</h1><p>Ant 是一个Apache基金会下的跨平台的基于 Java 语言开发的构件工具。</p>
<h1 id="用来干什么"><a href="#用来干什么" class="headerlink" title="用来干什么"></a>用来干什么</h1><p>一般情况，开发人员花费大量的时间做一般性的任务，比如：构建和部署，通常包含下面的工作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">编译代码</span><br><span class="line">封装二进制文件</span><br><span class="line">在测试服务器上部署二进制文件</span><br><span class="line">测试改变</span><br><span class="line">从一个地点拷贝代码到另一个地点</span><br></pre></td></tr></table></figure>
<p>为了自动和简化上面的工作，Apache Ant 是非常有用的。这是一个基于开放的操作系统构建和部署的工具，该工具需要从命令行执行。</p>
<h1 id="更多学习"><a href="#更多学习" class="headerlink" title="更多学习"></a>更多学习</h1><p><a target="_blank" rel="noopener" href="http://ant.apache.org/manual/index.html">官网的详尽文档</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3cschool.cn/ant/3p7y1hwe.html">W3C的教程</a></p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>这一款构建工具Ant不知道怎么样.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/06/lang/001-ant/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/06/lang/001-ant/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/06/lang/001-ant/" data-id="cl1fw7fm000dlvkd3974ffboj" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ant/" rel="tag">ant</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-lang/000-groovy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/06/lang/000-groovy/" class="article-date">
  <time datetime="2018-03-06T01:18:25.000Z" itemprop="datePublished">2018-03-06</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/06/lang/000-groovy/">Groovy必经之路</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>这种胶水脚本语言不得不了解.</p>
<h1 id="Groovy简介"><a href="#Groovy简介" class="headerlink" title="Groovy简介"></a>Groovy简介</h1><p>官网首页说得很清楚:<a target="_blank" rel="noopener" href="http://groovy-lang.org/">http://groovy-lang.org</a></p>
<p>apache groovy是一种强大的，可选择的类型和动态语言，具有静态类型和静态编译功能，适用于java平台，旨在通过简洁，熟悉和易于学习的语法提高开发人员的生产力。<br>它可以与任何Java程序顺利集成，并立即为您的应用程序提供强大的功能，包括脚本功能，特定领域的语言创作，运行时和编译时元编程和函数式编程.</p>
<h1 id="Groovy如何学习"><a href="#Groovy如何学习" class="headerlink" title="Groovy如何学习"></a>Groovy如何学习</h1><p>将官网的例子全部跑一遍就ok了:</p>
<ol>
<li><p><a target="_blank" rel="noopener" href="http://groovy-lang.org/documentation.html#gettingstarted">http://groovy-lang.org/documentation.html#gettingstarted</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://groovy-lang.org/differences.html">Groovy与Java的区别</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/education/java/j-groovy/j-groovy.html">IBM写的教程也可以</a></p>
</li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>这种胶水脚本语言不得不了解.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/06/lang/000-groovy/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/06/lang/000-groovy/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/06/lang/000-groovy/" data-id="cl1fw7flz00dgvkd37kzx3f3h" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/groovy/" rel="tag">groovy</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-tools/007-magnet" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/05/tools/007-magnet/" class="article-date">
  <time datetime="2018-03-05T08:47:54.000Z" itemprop="datePublished">2018-03-05</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/05/tools/007-magnet/">不得不知的magnet链接</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>什么是磁力链接?</p>
<h1 id="magnet链接"><a href="#magnet链接" class="headerlink" title="magnet链接"></a>magnet链接</h1><p>解析请看<a target="_blank" rel="noopener" href="https://linux.cn/article-9388-1.html">https://linux.cn/article-9388-1.html</a></p>
<h1 id="一个magnet网站"><a href="#一个magnet网站" class="headerlink" title="一个magnet网站"></a>一个magnet网站</h1><p><a target="_blank" rel="noopener" href="https://kickass.cd/">https://kickass.cd</a></p>
<p>因为遍布广告,所以程序员会找到想要的链接地址,如下图:</p>
<img src="/2018/03/05/tools/007-magnet/000.png" class="">

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>什么是磁力链接?</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/05/tools/007-magnet/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/05/tools/007-magnet/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/05/tools/007-magnet/" data-id="cl1fw7fnz00ksvkd33taw59gh" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/magnet/" rel="tag">magnet</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a><span class="article-tag-list-count">14</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-tools/006-gradle" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/05/tools/006-gradle/" class="article-date">
  <time datetime="2018-03-05T02:30:57.000Z" itemprop="datePublished">2018-03-05</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/05/tools/006-gradle/">gradle必经之路</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>这篇讲了如何学习gradle以及会遇到的问题.</p>
<h1 id="预备知识"><a href="#预备知识" class="headerlink" title="预备知识"></a>预备知识</h1><p>对<a href="/2018/03/06/lang/000-groovy/" title="Groovy">Groovy</a>语言有了解,对Java开发了解.</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>参考<a target="_blank" rel="noopener" href="https://gradle.org/install/">https://gradle.org/install/</a></p>
<h1 id="下载gradle慢"><a href="#下载gradle慢" class="headerlink" title="下载gradle慢"></a>下载gradle慢</h1><p>如果是下载gradle本身慢,<br>比如遇到:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc basic-demo]$ ./gradlew copy</span><br><span class="line">Downloading https://services.gradle.org/distributions/gradle-4.5.1-bin.zip</span><br><span class="line">....</span><br></pre></td></tr></table></figure>
<p>一般只有30k,所以去下载:<a target="_blank" rel="noopener" href="https://services.gradle.org/distributions/gradle-4.5.1-bin.zip">https://services.gradle.org/distributions/gradle-4.5.1-bin.zip</a><br>,然后修改该项目的配置文件:basic-demo&#x2F;gradle&#x2F;wrapper&#x2F;gradle-wrapper.properties</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">distributionBase=GRADLE_USER_HOME</span><br><span class="line">distributionPath=wrapper/dists</span><br><span class="line">zipStoreBase=GRADLE_USER_HOME</span><br><span class="line">zipStorePath=wrapper/dists</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">distributionUrl=https\://services.gradle.org/distributions/gradle-4.5.1-bin.zip</span></span><br><span class="line">distributionUrl=gradle-4.5.1-bin.zip</span><br></pre></td></tr></table></figure>
<p>当然这个路径可以自由修改.</p>
<p>然后编译就简单了:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc basic-demo]$ ./gradlew copy</span><br><span class="line">Downloading file:/home/xxx/basic-demo/gradle/wrapper/gradle-4.5.1-bin.zip</span><br><span class="line">.....................................................................</span><br><span class="line">Unzipping /home/jimo/.gradle/wrapper/dists/gradle-4.5.1-bin/3o6uzay4hcvg4k8e46n74bbqi/gradle-4.5.1-bin.zip to /home/jimo/.gradle/wrapper/dists/gradle-4.5.1-bin/3o6uzay4hcvg4k8e46n74bbqi</span><br><span class="line">Set executable permissions for: /home/jimo/.gradle/wrapper/dists/gradle-4.5.1-bin/3o6uzay4hcvg4k8e46n74bbqi/gradle-4.5.1/bin/gradle</span><br><span class="line"></span><br><span class="line">BUILD SUCCESSFUL in 1s</span><br><span class="line">1 actionable task: 1 executed</span><br></pre></td></tr></table></figure>
<h1 id="下载jar包慢"><a href="#下载jar包慢" class="headerlink" title="下载jar包慢"></a>下载jar包慢</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        maven &#123; url &#x27;http://maven.aliyun.com/nexus/content/groups/public/&#x27; &#125;</span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        maven &#123; url &#x27;http://maven.aliyun.com/nexus/content/groups/public/&#x27; &#125;</span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="怎么学习"><a href="#怎么学习" class="headerlink" title="怎么学习"></a>怎么学习</h1><p>用官网提供的例子即可:<a target="_blank" rel="noopener" href="https://gradle.org/guides/#getting-started">https://gradle.org/guides/#getting-started</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3cschool.cn/gradle/ms7n1hu2.html">W3C提供的教程也可以</a></p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>这篇讲了如何学习gradle以及会遇到的问题.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/05/tools/006-gradle/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/05/tools/006-gradle/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/05/tools/006-gradle/" data-id="cl1fw7fny00kpvkd3g13l2t0y" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gradle/" rel="tag">gradle</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a><span class="article-tag-list-count">14</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-linux/010-linux-background" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/03/01/linux/010-linux-background/" class="article-date">
  <time datetime="2018-03-01T05:51:55.000Z" itemprop="datePublished">2018-03-01</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/01/linux/010-linux-background/">linux后台进程那些事</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>linux后台进程那些事.</p>
<h1 id="amp"><a href="#amp" class="headerlink" title="&amp;"></a>&amp;</h1><p>一般就这样</p>
<h1 id="nohup"><a href="#nohup" class="headerlink" title="nohup"></a>nohup</h1><p>但是有输出时</p>
<p>如果遇到警告:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup: redirecting stderr to stdout</span><br></pre></td></tr></table></figure>
<p>再加上来进行重定向</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">command 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>linux后台进程那些事.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/03/01/linux/010-linux-background/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/03/01/linux/010-linux-background/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/03/01/linux/010-linux-background/" data-id="cl1fw7fmg00exvkd3a7830b9g" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="article-tag-list-count">57</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-hexo/001-hexo-backup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/20/hexo/001-hexo-backup/" class="article-date">
  <time datetime="2018-02-20T05:51:55.000Z" itemprop="datePublished">2018-02-20</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/20/hexo/001-hexo-backup/">hexo换电脑或备份</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文对hexo的源代码如何备份做一个方案的探讨.我们知道hexo生成的静态页面放在public目录下,<br>每次将这个目录推送到github上,但是hexo本身却没上传,如果换电脑就无力回天了.下面就是一些解决方案.</p>
<h1 id="1-暴力备份"><a href="#1-暴力备份" class="headerlink" title="1.暴力备份"></a>1.暴力备份</h1><p>如果不嫌麻烦,每次更新博客后都手动将hexo源代码备份,即使是这样也需要知道哪些是必须备份的.<br>下面是所有文件:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[jimo@jimo-pc myblog]$ ls -lha</span><br><span class="line">总用量 240K</span><br><span class="line">drwxr-xr-x   8 jimo jimo 4.0K 12月 27 18:12 .</span><br><span class="line">drwxr-xr-x  26 jimo jimo 4.0K 5月  16 21:29 ..</span><br><span class="line">-rw-r--r--   1 jimo jimo 2.1K 4月  27 11:19 _config.yml</span><br><span class="line">-rw-r--r--   1 jimo jimo  174 5月  17 20:20 db.json</span><br><span class="line">drwxr-xr-x  13 jimo jimo 4.0K 5月  15 12:47 .deploy_git</span><br><span class="line">-rw-r--r--   1 jimo jimo   65 12月 23 21:46 .gitignore</span><br><span class="line">drwxr-xr-x 298 jimo jimo  12K 12月 23 22:14 node_modules</span><br><span class="line">-rw-r--r--   1 jimo jimo  483 12月 23 22:14 package.json</span><br><span class="line">-rw-r--r--   1 jimo jimo 106K 12月 23 22:14 package-lock.json</span><br><span class="line">drwxr-xr-x  12 jimo jimo 4.0K 1月   1 15:48 public</span><br><span class="line">drwxr-xr-x   2 jimo jimo 4.0K 12月 23 21:46 scaffolds</span><br><span class="line">drwxr-xr-x   4 jimo jimo 4.0K 12月 27 18:10 source</span><br><span class="line">drwxr-xr-x   3 jimo jimo 4.0K 12月 23 21:46 themes</span><br><span class="line">-rw-r--r--   1 jimo jimo  73K 12月 23 21:46 yarn.lock</span><br></pre></td></tr></table></figure>
<p>需要备份的有:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_config.yml，themes/，source/，scaffolds/，package.json，.gitignore</span><br></pre></td></tr></table></figure>
<p>不需要的有: 到时候npm install再安装一遍即可.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.git/，node_modules/，public/，.deploy_git/，db.json</span><br></pre></td></tr></table></figure>
<h1 id="2-自动备份"><a href="#2-自动备份" class="headerlink" title="2.自动备份"></a>2.自动备份</h1><p>既然要备份,为什么不做成自动的呢? 其实源码也可以push到github上嘛,那现在就有2个仓库,一个<br>用来存hexo源码,一个用来存博客.这样的话每次得2次push.</p>
<p>当然首先我肯定会想到写一个脚本,把这两步放在一起,大概如下:<br>backup.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">hexo g &amp;&amp; hexo d # 先更新博客</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再更新源码</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m &#x27;update&#x27;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>
<p>注意在.gitignore把不需要的过滤掉就行了.</p>
<h1 id="3-持续集成"><a href="#3-持续集成" class="headerlink" title="3.持续集成"></a>3.持续集成</h1><p>我们也可以把这2步交给持续集成的框架,常用的有<a target="_blank" rel="noopener" href="https://www.appveyor.com/">appveyor</a>,<a target="_blank" rel="noopener" href="https://www.travis-ci.org/">travis-ci</a>.</p>
<p>可以参考<a target="_blank" rel="noopener" href="https://formulahendry.github.io/2016/12/04/hexo-ci/">这个博客</a></p>
<h1 id="4-多分支同步"><a href="#4-多分支同步" class="headerlink" title="4.多分支同步"></a>4.多分支同步</h1><p>不需要2个仓库,使用同一个仓库的2个分之即可.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">作者：CrazyMilk</span><br><span class="line">链接：https://www.zhihu.com/question/21193762/answer/79109280</span><br><span class="line">来源：知乎</span><br><span class="line">著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</span><br><span class="line"></span><br><span class="line">其实，Hexo生成的文件里面是有一个.gitignore的，所以它的本意应该也是想我们把这些文件放到GitHub上存放的。但是考虑到如果每个GitHub Pages都需要额外的一个仓库存放这些文件，就显得特别冗余了。这个时候就可以用分支的思路！一个分支用来存放Hexo生成的网站原始的文件，另一个分支用来存放生成的静态网页。最近我也用GitHub Pages搭建了一个独立博客，想到了这个方法，使用之后真的特别简洁。为了更直观地说明，奉上使用这种方法不同时候的流程：</span><br><span class="line"></span><br><span class="line">一、关于搭建的流程</span><br><span class="line">1. 创建仓库，http://CrazyMilk.github.io；</span><br><span class="line">2. 创建两个分支：master 与 hexo；</span><br><span class="line">3. 设置hexo为默认分支（因为我们只需要手动管理这个分支上的Hexo网站文件）；</span><br><span class="line">4. 使用git clone git@github.com:CrazyMilk/CrazyMilk.github.io.git拷贝仓库；</span><br><span class="line">5. 在本地http://CrazyMilk.github.io文件夹下通过Git bash依次执行npm install hexo、hexo init、npm install 和 npm install hexo-deployer-git（此时当前分支应显示为hexo）;</span><br><span class="line">6. 修改_config.yml中的deploy参数，分支应为master；</span><br><span class="line">7. 依次执行git add .、git commit -m &quot;...&quot;、git push origin hexo提交网站相关的文件；</span><br><span class="line">8. 执行hexo g -d生成网站并部署到GitHub上。</span><br><span class="line">这样一来，在GitHub上的http://CrazyMilk.github.io仓库就有两个分支，一个hexo分支用来存放网站的原始文件，一个master分支用来存放生成的静态网页。完美( •̀ ω •́ )y！</span><br><span class="line"></span><br><span class="line">二、关于日常的改动流程在本地对博客进行修改（添加新博文、修改样式等等）后，通过下面的流程进行管理。</span><br><span class="line">1. 依次执行git add .、git commit -m &quot;...&quot;、git push origin hexo指令将改动推送到GitHub（此时当前分支应为hexo）；2. 然后才执行hexo g -d发布网站到master分支上。</span><br><span class="line">虽然两个过程顺序调转一般不会有问题，不过逻辑上这样的顺序是绝对没问题的（例如突然死机要重装了，悲催....的情况，调转顺序就有问题了）。</span><br><span class="line">三、本地资料丢失后的流程当重装电脑之后，或者想在其他电脑上修改博客，可以使用下列步骤：</span><br><span class="line">1. 使用git clone git@github.com:CrazyMilk/CrazyMilk.github.io.git拷贝仓库（默认分支为hexo）；</span><br><span class="line">2. 在本地新拷贝的http://CrazyMilk.github.io文件夹下通过Git bash依次执行下列指令：npm install hexo、npm install、npm install hexo-deployer-git（记得，不需要hexo init这条指令）。</span><br></pre></td></tr></table></figure>

<h1 id="5-使用插件"><a href="#5-使用插件" class="headerlink" title="5.使用插件"></a>5.使用插件</h1><p>可以更新使用最新的 hexo-deployer-git 插件，因为没有发布到 npm 的原因，必须得从 github 安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install git+git@github.com:hexojs/hexo-deployer-git.git --save</span><br></pre></td></tr></table></figure>
<p>在项目根目录下的 _config.yml 里面就可以这样配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># _config.yaml</span><br><span class="line">deploy:</span><br><span class="line">  - type: git</span><br><span class="line">    repo: git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git</span><br><span class="line">    branch: master</span><br><span class="line">  - type: git</span><br><span class="line">    repo: git@github.com:&lt;username&gt;/&lt;username&gt;.github.io.git</span><br><span class="line">    branch: src</span><br><span class="line">    extend_dirs: /</span><br><span class="line">    ignore_hidden: false</span><br><span class="line">    ignore_pattern:</span><br><span class="line">        public: .</span><br></pre></td></tr></table></figure>
<p>这样，在每次写完博客的时候时候使用 hexo d 命令就能将所有其他文件发布到 src 分支换电脑的时候就能通过 git 重新下载下来整个项目，然后本地切换到远端的 src 分支</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout origin/src</span><br></pre></td></tr></table></figure>
<p>就能重新获得所有的源文件，就能重新 hexo d 发布对于每一个从 git 下载下来的项目或者主题，最好把每个的 .git 文件夹删掉，否则得通过 submodule 的方式来安装。</p>
<h1 id="6-总结"><a href="#6-总结" class="headerlink" title="6.总结"></a>6.总结</h1><p>个人觉得方法2最简单也不容易出错.</p>
<p>以下是我的shell脚本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">--------------------------------------------</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">提交博客脚本,同步hexo源码和推送博客修改到不同仓库</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">author：jimolonely</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">site：jimolonely.github.io</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">slogan：shell is a way!</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">--------------------------------------------</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">接受git commit 提交参数</span></span><br><span class="line">msg=&quot;$*&quot;</span><br><span class="line"></span><br><span class="line">if [ -z &quot;$msg&quot; ];then</span><br><span class="line">    msg=$(git status --short)</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;$msg&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文对hexo的源代码如何备份做一个方案的探讨.我们知道hexo生成的静态页面放在public目录下,<br>每次将这个目录推送到github上,但是hexo本身却没上传,如果换电脑就无力回天了.下面就是一些解决方案.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/02/20/hexo/001-hexo-backup/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/02/20/hexo/001-hexo-backup/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/02/20/hexo/001-hexo-backup/" data-id="cl1fw7fjq005cvkd341xtg3ds" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="article-tag-list-count">2</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-tools/005-latex2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/07/tools/005-latex2/" class="article-date">
  <time datetime="2018-02-07T00:45:25.000Z" itemprop="datePublished">2018-02-07</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/07/tools/005-latex2/">不得不会的latex2</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文将使用10分钟入门latex.</p>
<h1 id="环境介绍"><a href="#环境介绍" class="headerlink" title="环境介绍"></a>环境介绍</h1><p>使用texlive2017,vs code作为开发工具.</p>
<p>vscode的用户自定义配置如下,为了支持中文:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;latex-workshop.latex.toolchain&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">     <span class="punctuation">&#123;</span></span><br><span class="line">         <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;xelatex&quot;</span><span class="punctuation">,</span></span><br><span class="line">         <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">             <span class="string">&quot;-synctex=1&quot;</span><span class="punctuation">,</span></span><br><span class="line">             <span class="string">&quot;-interaction=nonstopmode&quot;</span><span class="punctuation">,</span></span><br><span class="line">             <span class="string">&quot;-file-line-error&quot;</span><span class="punctuation">,</span></span><br><span class="line">             <span class="string">&quot;-pdf&quot;</span><span class="punctuation">,</span></span><br><span class="line">             <span class="string">&quot;%DOC%&quot;</span></span><br><span class="line">         <span class="punctuation">]</span></span><br><span class="line">     <span class="punctuation">&#125;</span></span><br><span class="line"> <span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
<p>安装的插件是:LaTeX Workshop.</p>
<h1 id="最小结构"><a href="#最小结构" class="headerlink" title="最小结构"></a>最小结构</h1><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>&#123;article&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;xeCJK&#125; <span class="comment">%调用 xeCJK 宏包,支持中文</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line">  LaTEX（/ˈlɑːtɛx/，常被读作/ˈlɑːtɛk/或/ˈleɪtɛk/），文字形式写作LaTeX，是一种基于TEX的排版系统，</span><br><span class="line">  由美国计算机科学家莱斯利·兰伯特在20世纪80年代初期开发，利用这种格式系统的处理，即使用户没有排版和程序设计的知识也可以充分发挥由TEX所提供的强大功能，不必一一亲自去设计或校对，能在几天，甚至几小时内生成很多具有书籍质量的印刷品。对于生成复杂表格和数学公式，这一点表现得尤为突出。因此它非常适用于生成高印刷质量的科技和数学、化学类文档。这个系统同样适用于生成从简单的信件到完整书籍的所有其他种类的文档。</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure>
<h1 id="增加标题-作者-日期"><a href="#增加标题-作者-日期" class="headerlink" title="增加标题,作者,日期"></a>增加标题,作者,日期</h1><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\title</span>&#123;Latex学习&#125;</span><br><span class="line"><span class="keyword">\author</span>&#123;jackpler <span class="keyword">\thanks</span>&#123;jimo&#125;&#125;</span><br><span class="line"><span class="keyword">\date</span>&#123;2019-01-01&#125; <span class="comment">% 或则\today</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line">  <span class="keyword">\maketitle</span> <span class="comment">% 这才显示出来</span></span><br></pre></td></tr></table></figure>

<h1 id="粗体-斜体-下划线"><a href="#粗体-斜体-下划线" class="headerlink" title="粗体,斜体,下划线"></a>粗体,斜体,下划线</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">由\underline&#123;美国&#125;计算机科学家\textbf&#123;莱斯利·兰伯特&#125;在\textit&#123;20世纪80年代初期&#125;开发</span><br></pre></td></tr></table></figure>
<p>现在可以看下效果了:</p>
<img src="/2018/02/07/tools/005-latex2/000.png" class="">

<h1 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;graphicx&#125;</span><br><span class="line">\graphicspath&#123;&#123;images/&#125;&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line"></span><br><span class="line">  \includegraphics&#123;0&#125;</span><br><span class="line">  </span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure>
<img src="/2018/02/07/tools/005-latex2/001.png" class="">

<h1 id="图表标题-标签和引用"><a href="#图表标题-标签和引用" class="headerlink" title="图表标题,标签和引用"></a>图表标题,标签和引用</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;figure&#125;[h]</span><br><span class="line">    \centering</span><br><span class="line">    \includegraphics[width=0.5\textwidth]&#123;0&#125;</span><br><span class="line">    \caption&#123;我的头像&#125;</span><br><span class="line">    \label&#123;fig:me&#125;</span><br><span class="line">  \end&#123;figure&#125;</span><br><span class="line"></span><br><span class="line">  请查看在\pageref&#123;fig:me&#125;页的Figure \ref&#123;fig:me&#125;</span><br></pre></td></tr></table></figure>
<img src="/2018/02/07/tools/005-latex2/002.png" class="">

<h1 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;itemize&#125;</span><br><span class="line">  \item 我是个男人</span><br><span class="line">  \item 我不是个女人</span><br><span class="line">\end&#123;itemize&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;enumerate&#125;</span><br><span class="line">  \item 我是个男人</span><br><span class="line">  \item 我不是个女人</span><br><span class="line">\end&#123;enumerate&#125;</span><br></pre></td></tr></table></figure>
<img src="/2018/02/07/tools/005-latex2/003.png" class="">
<h1 id="数学公式"><a href="#数学公式" class="headerlink" title="数学公式"></a>数学公式</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">物理学著名公式(行内): $E=m^2$</span><br><span class="line"></span><br><span class="line">行间公式: $$E=m^2$$</span><br><span class="line"></span><br><span class="line">$$T^&#123;i_1 i_2 \dots i_p&#125;_&#123;j_1 j_2 \dots j_q&#125; = T(x^&#123;i_1&#125;,\dots,x^&#123;i_p&#125;,e_&#123;j_1&#125;,\dots,e_&#123;j_q&#125;)$$</span><br></pre></td></tr></table></figure>
<img src="/2018/02/07/tools/005-latex2/004.png" class="">


      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文将使用10分钟入门latex.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/02/07/tools/005-latex2/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/02/07/tools/005-latex2/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/02/07/tools/005-latex2/" data-id="cl1fw7fo000kuvkd37aet0ew8" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/latex/" rel="tag">latex</a><span class="article-tag-list-count">3</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a><span class="article-tag-list-count">14</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-linux/012-linux-fun-tools" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/02/01/linux/012-linux-fun-tools/" class="article-date">
  <time datetime="2018-02-01T05:51:55.000Z" itemprop="datePublished">2018-02-01</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/02/01/linux/012-linux-fun-tools/">linux下有趣的工具</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>纯粹为了娱乐.不过真的很有趣</p>
<h1 id="1-装逼网站"><a href="#1-装逼网站" class="headerlink" title="1.装逼网站"></a>1.装逼网站</h1><p><a target="_blank" rel="noopener" href="https://hackertyper.net/">https://hackertyper.net/</a>,<br><a target="_blank" rel="noopener" href="http://geektyper.com/">http://geektyper.com/</a></p>
<h1 id="2-复古终端"><a href="#2-复古终端" class="headerlink" title="2.复古终端"></a>2.复古终端</h1><p><a target="_blank" rel="noopener" href="https://github.com/Swordfish90/cool-retro-term">github</a></p>
<h1 id="3-假装很忙的命令行"><a href="#3-假装很忙的命令行" class="headerlink" title="3.假装很忙的命令行"></a>3.假装很忙的命令行</h1><ol>
<li><p><a target="_blank" rel="noopener" href="https://github.com/svenstaro/genact">genact</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/dustinkirkland/hollywood">hollywood</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/yaronn/blessed-contrib">blessed</a><br>第三个还需要会js相关技能才能玩转,还要自己编程实现效果,不过helloworld总是简单的:</p>
</li>
<li><p>安装blessed模块:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install blessed</span><br></pre></td></tr></table></figure></li>
<li><p>编写代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> blessed = <span class="built_in">require</span>(<span class="string">&#x27;blessed&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a screen object.</span></span><br><span class="line"><span class="keyword">var</span> screen = blessed.<span class="title function_">screen</span>(&#123;</span><br><span class="line">  <span class="attr">smartCSR</span>: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">screen.<span class="property">title</span> = <span class="string">&#x27;my window title&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a box perfectly centered horizontally and vertically.</span></span><br><span class="line"><span class="keyword">var</span> box = blessed.<span class="title function_">box</span>(&#123;</span><br><span class="line">  <span class="attr">top</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">  <span class="attr">left</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="string">&#x27;50%&#x27;</span>,</span><br><span class="line">  <span class="attr">height</span>: <span class="string">&#x27;50%&#x27;</span>,</span><br><span class="line">  <span class="attr">content</span>: <span class="string">&#x27;Hello &#123;bold&#125;world&#123;/bold&#125;!&#x27;</span>,</span><br><span class="line">  <span class="attr">tags</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">border</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">style</span>: &#123;</span><br><span class="line">    <span class="attr">fg</span>: <span class="string">&#x27;white&#x27;</span>,</span><br><span class="line">    <span class="attr">bg</span>: <span class="string">&#x27;magenta&#x27;</span>,</span><br><span class="line">    <span class="attr">border</span>: &#123;</span><br><span class="line">      <span class="attr">fg</span>: <span class="string">&#x27;#f0f0f0&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">hover</span>: &#123;</span><br><span class="line">      <span class="attr">bg</span>: <span class="string">&#x27;green&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Append our box to the screen.</span></span><br><span class="line">screen.<span class="title function_">append</span>(box);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add a png icon to the box</span></span><br><span class="line"><span class="keyword">var</span> icon = blessed.<span class="title function_">image</span>(&#123;</span><br><span class="line">  <span class="attr">parent</span>: box,</span><br><span class="line">  <span class="attr">top</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">left</span>: <span class="number">0</span>,</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;overlay&#x27;</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="string">&#x27;shrink&#x27;</span>,</span><br><span class="line">  <span class="attr">height</span>: <span class="string">&#x27;shrink&#x27;</span>,</span><br><span class="line">  <span class="attr">file</span>: __dirname + <span class="string">&#x27;/my-program-icon.png&#x27;</span>,</span><br><span class="line">  <span class="attr">search</span>: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// If our box is clicked, change the content.</span></span><br><span class="line">box.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  box.<span class="title function_">setContent</span>(<span class="string">&#x27;&#123;center&#125;Some different &#123;red-fg&#125;content&#123;/red-fg&#125;.&#123;/center&#125;&#x27;</span>);</span><br><span class="line">  screen.<span class="title function_">render</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// If box is focused, handle `enter`/`return` and give us some more content.</span></span><br><span class="line">box.<span class="title function_">key</span>(<span class="string">&#x27;enter&#x27;</span>, <span class="keyword">function</span>(<span class="params">ch, key</span>) &#123;</span><br><span class="line">  box.<span class="title function_">setContent</span>(<span class="string">&#x27;&#123;right&#125;Even different &#123;black-fg&#125;content&#123;/black-fg&#125;.&#123;/right&#125;\n&#x27;</span>);</span><br><span class="line">  box.<span class="title function_">setLine</span>(<span class="number">1</span>, <span class="string">&#x27;bar&#x27;</span>);</span><br><span class="line">  box.<span class="title function_">insertLine</span>(<span class="number">1</span>, <span class="string">&#x27;foo&#x27;</span>);</span><br><span class="line">  screen.<span class="title function_">render</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Quit on Escape, q, or Control-C.</span></span><br><span class="line">screen.<span class="title function_">key</span>([<span class="string">&#x27;escape&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;C-c&#x27;</span>], <span class="keyword">function</span>(<span class="params">ch, key</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> process.<span class="title function_">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Focus our element.</span></span><br><span class="line">box.<span class="title function_">focus</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Render the screen.</span></span><br><span class="line">screen.<span class="title function_">render</span>();</span><br></pre></td></tr></table></figure></li>
<li><p>运行:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">node hello.js</span></span><br></pre></td></tr></table></figure></li>
<li><p>效果:</p>
<img src="/2018/02/01/linux/012-linux-fun-tools/000.png" class=""></li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>纯粹为了娱乐.不过真的很有趣</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/02/01/linux/012-linux-fun-tools/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/02/01/linux/012-linux-fun-tools/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/02/01/linux/012-linux-fun-tools/" data-id="cl1fw7fmi00f5vkd3hhvedx5q" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="article-tag-list-count">57</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tool/" rel="tag">tool</a><span class="article-tag-list-count">14</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-python/003-py-weibo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/31/python/003-py-weibo/" class="article-date">
  <time datetime="2018-01-31T02:03:05.000Z" itemprop="datePublished">2018-01-31</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/31/python/003-py-weibo/">爬取个人微博</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文将讲解如何爬取微博,并将内容生成词云.</p>
<h1 id="爬取准备"><a href="#爬取准备" class="headerlink" title="爬取准备"></a>爬取准备</h1><ol>
<li>使用Google Chrome浏览器,将Agent调成手机客户端,方法如下:</li>
</ol>
<p>F12–&gt;setting–&gt;More Tools–&gt;Network conditions,把User Agent换成手机.</p>
<img src="/2018/01/31/python/003-py-weibo/000.png" class="">

<img src="/2018/01/31/python/003-py-weibo/001.png" class="">

<ol start="2">
<li><p>登录微博.</p>
</li>
<li><p>得到要爬取者的uid: <a target="_blank" rel="noopener" href="https://m.weibo.cn/u/xxxxxxxxxxxxxx">https://m.weibo.cn/u/xxxxxxxxxxxxxx</a></p>
</li>
<li><p>在访问主页时得到访问的cookie,复制Cookie.</p>
</li>
</ol>
<img src="/2018/01/31/python/003-py-weibo/002.png" class="">

<h1 id="爬取代码"><a href="#爬取代码" class="headerlink" title="爬取代码"></a>爬取代码</h1><p>将网页分页保存起来,等会解析.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*-coding:utf8-*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"></span><br><span class="line">user_id = xxxx</span><br><span class="line"></span><br><span class="line">cookie = &#123;</span><br><span class="line">    <span class="string">&quot;Cookie&quot;</span>: <span class="string">&quot;_T_WM=xxx; SCF=xxx.; SUB=xxx; SUHB=xxx; WEIBOCN_FROM=xxx; M_WEIBOCN_PARAMS=xxx&quot;</span>&#125;</span><br><span class="line">url = <span class="string">&#x27;http://weibo.cn/u/%d?filter=1&amp;page=1&#x27;</span> % user_id</span><br><span class="line"></span><br><span class="line">html = requests.get(url, cookies=cookie).content</span><br><span class="line">selector = etree.HTML(html)</span><br><span class="line">pageNum = (<span class="built_in">int</span>)(selector.xpath(<span class="string">&#x27;//input[@name=&quot;mp&quot;]&#x27;</span>)[<span class="number">0</span>].attrib[<span class="string">&#x27;value&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&#x27;爬虫准备就绪...&#x27;</span>)</span><br><span class="line"></span><br><span class="line">pages = []</span><br><span class="line"><span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, pageNum + <span class="number">1</span>):</span><br><span class="line">    <span class="comment"># 获取lxml页面</span></span><br><span class="line">    url = <span class="string">&#x27;http://weibo.cn/u/%d?filter=1&amp;page=%d&#x27;</span> % (user_id, page)</span><br><span class="line">    lxml = requests.get(url, cookies=cookie).content</span><br><span class="line"></span><br><span class="line">    pages.append(lxml.decode(encoding=<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;下载完成第%d页&quot;</span> % page)</span><br><span class="line"></span><br><span class="line">dir_path = <span class="string">&quot;/home/jimo/workspace/temp/python/love/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;%s%s&quot;</span> % (dir_path, user_id), <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> pages:</span><br><span class="line">        f.write(page)</span><br><span class="line">        f.write(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">u&#x27;微博文字爬取完毕&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="解析代码"><a href="#解析代码" class="headerlink" title="解析代码"></a>解析代码</h1><img src="/2018/01/31/python/003-py-weibo/003.png" class="">

<p>注意对于中文,词云要指定支持中文的字体.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> WordCloud</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">path = <span class="string">&quot;/home/jimo/workspace/temp/python/love/&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">analyze</span>(<span class="params">line</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;解析html&#x27;&#x27;&#x27;</span></span><br><span class="line">    html = etree.HTML(line.encode(encoding=<span class="string">&#x27;utf-8&#x27;</span>))</span><br><span class="line">    <span class="comment"># 解析微博内容</span></span><br><span class="line">    contents = html.xpath(<span class="string">&#x27;//span[@class=&quot;ctt&quot;]&#x27;</span>)</span><br><span class="line">    content = <span class="string">&quot; &quot;</span>.join([c.xpath(<span class="string">&quot;string(.)&quot;</span>) <span class="keyword">for</span> c <span class="keyword">in</span> contents])</span><br><span class="line">    <span class="comment"># for c in contents:</span></span><br><span class="line">    <span class="comment">#     text = c.xpath(&quot;string(.)&quot;)</span></span><br><span class="line">    <span class="comment">#     print(text)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 解析发的时间和来自哪里</span></span><br><span class="line">    times = html.xpath(<span class="string">&#x27;//span[@class=&quot;ct&quot;]&#x27;</span>)</span><br><span class="line">    time = []</span><br><span class="line">    fromWhere = []</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> times:</span><br><span class="line">        text = t.xpath(<span class="string">&quot;string(.)&quot;</span>)</span><br><span class="line">        splitIndex = text.index(<span class="string">&quot;来自&quot;</span>)</span><br><span class="line">        time.append(text[:splitIndex - <span class="number">1</span>])</span><br><span class="line">        fromWhere.append(text[splitIndex:])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> content, <span class="string">&quot; &quot;</span>.join(time), <span class="string">&quot; &quot;</span>.join(fromWhere)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_word_cloud</span>(<span class="params">content</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;生成词云&#x27;&#x27;&#x27;</span></span><br><span class="line">    wc = WordCloud(font_path=<span class="string">&quot;SimHei.ttf&quot;</span>, max_font_size=<span class="number">60</span>, min_font_size=<span class="number">10</span>, width=<span class="number">1000</span>, height=<span class="number">800</span>).generate(content)</span><br><span class="line">    plt.figure()</span><br><span class="line">    plt.imshow(wc, interpolation=<span class="string">&quot;bilinear&quot;</span>)</span><br><span class="line">    plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(path + <span class="string">&quot;1786727217&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    lines = f.readlines()</span><br><span class="line">    contents, times, fromWhere = [], [], []</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> lines:</span><br><span class="line">        c, t, f = analyze(line)</span><br><span class="line">        contents.append(c)</span><br><span class="line">        times.append(t)</span><br><span class="line">        fromWhere.append(f)</span><br><span class="line">    generate_word_cloud(<span class="string">&quot; &quot;</span>.join(contents))</span><br><span class="line">    generate_word_cloud(<span class="string">&quot; &quot;</span>.join(fromWhere))</span><br></pre></td></tr></table></figure>
<p>My Love:</p>
<img src="/2018/01/31/python/003-py-weibo/004.png" class="">

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文将讲解如何爬取微博,并将内容生成词云.</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/01/31/python/003-py-weibo/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/01/31/python/003-py-weibo/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/01/31/python/003-py-weibo/" data-id="cl1fw7fn600hrvkd3c6v8gyc1" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a><span class="article-tag-list-count">15</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a><span class="article-tag-list-count">1</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-cloudcompute/000-install-openstack-unbuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/26/cloudcompute/000-install-openstack-unbuntu/" class="article-date">
  <time datetime="2018-01-26T11:57:01.000Z" itemprop="datePublished">2018-01-26</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/26/cloudcompute/000-install-openstack-unbuntu/">在ubuntu上安装openstack</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文讲述了在ubuntu16.04上安装openstack的注意事项.<br>如果是redhat或centos,请参考<a href="/2018/03/30/cloudcompute/002-packstack/" title="另一篇文章">另一篇文章</a></p>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p>安装<a target="_blank" rel="noopener" href="https://docs.openstack.org/developer/devstack/index.html">官网</a>的步骤,<br>有可能会成功.经过反复试验,在不翻墙的情况下还是可以安装成功了.</p>
<p>下面是步骤:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.stack用户</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo useradd -s /bin/bash -d /opt/stack -m stack</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.分配权限</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">echo</span> <span class="string">&quot;stack ALL=(ALL) NOPASSWD: ALL&quot;</span> | sudo <span class="built_in">tee</span> /etc/sudoers.d/stack</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.采用stack用户</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo su - stack</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4.在stack环境下</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https://git.openstack.org/openstack-dev/devstack</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> devstack</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5.创建local.conf文件,并填入下面的文件</span></span><br><span class="line">[[local|localrc]]</span><br><span class="line">ADMIN_PASSWORD=secret</span><br><span class="line">DATABASE_PASSWORD=$ADMIN_PASSWORD</span><br><span class="line">RABBIT_PASSWORD=$ADMIN_PASSWORD</span><br><span class="line">SERVICE_PASSWORD=$ADMIN_PASSWORD</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">6.官网说可以直接执行stack.sh了,但经过反复验证,有一个资源下载很慢</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">就是会去下载此linux镜像:cirros-0.3.5-x86_64-disk.img</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可以下载好了,在/opt/stack下建一个files文件夹,放上此文件,不过也不一定</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">也就12M,慢慢下也能下完</span></span><br></pre></td></tr></table></figure>
<p>成功的结果:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">=========================</span><br><span class="line">DevStack Component Timing</span><br><span class="line"> (times are in seconds)  </span><br><span class="line">=========================</span><br><span class="line">run_process           89</span><br><span class="line">test_with_retry        4</span><br><span class="line">apt-get-update        17</span><br><span class="line">pip_install          164</span><br><span class="line">osc                  197</span><br><span class="line">wait_for_service      40</span><br><span class="line">dbsync                62</span><br><span class="line">apt-get               16</span><br><span class="line">-------------------------</span><br><span class="line">Unaccounted time     1100</span><br><span class="line">=========================</span><br><span class="line">Total runtime        1689</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">This is your host IP address: 192.168.1.126</span><br><span class="line">This is your host IPv6 address: ::1</span><br><span class="line">Horizon is now available at http://192.168.1.126/dashboard</span><br><span class="line">Keystone is serving at http://192.168.1.126/identity/</span><br><span class="line">The default users are: admin and demo</span><br><span class="line">The password: 1234</span><br><span class="line"></span><br><span class="line">WARNING: </span><br><span class="line">Using lib/neutron-legacy is deprecated, and it will be removed in the future</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Services are running under systemd unit files.</span><br><span class="line">For more information see: </span><br><span class="line">https://docs.openstack.org/devstack/latest/systemd.html</span><br><span class="line"></span><br><span class="line">DevStack Version: queens</span><br><span class="line">Change: 66c893f25c6eb50edef47ec86a6d97fa58d2ea05 Merge &quot;Bump the Cinder LVM backing file size to 24Gb.&quot; 2018-01-25 19:26:49 +0000</span><br><span class="line">OS Version: Ubuntu 16.04 xenial</span><br><span class="line"></span><br><span class="line">2018-01-26 10:01:51.399 | stack.sh completed in 1689 seconds.</span><br></pre></td></tr></table></figure>
<p>可以看到接近半小时才整完,而且是反复很多次.</p>
<p>另外,出错了需要先执行.&#x2F;unstack.sh,再执行stack.sh.</p>
<p>只要有耐心,一定能装好.</p>
<p>可以在本地登录:</p>
<img src="/2018/01/26/cloudcompute/000-install-openstack-unbuntu/000.png" class="">
      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文讲述了在ubuntu16.04上安装openstack的注意事项.<br>如果是redhat或centos,请参考<a href="/2018/03/30/cloudcompute/002-packstack/" title="另一篇文章">另一篇文章</a></p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2018/01/26/cloudcompute/000-install-openstack-unbuntu/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2018/01/26/cloudcompute/000-install-openstack-unbuntu/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/history/2018/01/26/cloudcompute/000-install-openstack-unbuntu/" data-id="cl1fw7fib0024vkd31kuf6fxc" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="article-tag-list-count">57</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openstack/" rel="tag">openstack</a><span class="article-tag-list-count">5</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a><span class="article-tag-list-count">15</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/" rel="tag">云计算</a><span class="article-tag-list-count">6</span></li></ul>

      </footer>
      </div>
      
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/15/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="page-number" href="/page/15/">15</a><span class="page-number current">16</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/17/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI-test/" rel="tag">UI test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/annotation/" rel="tag">annotation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ansible/" rel="tag">ansible</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ant/" rel="tag">ant</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aop/" rel="tag">aop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/archiva/" rel="tag">archiva</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asciidoc/" rel="tag">asciidoc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awk/" rel="tag">awk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/axios/" rel="tag">axios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/basic/" rel="tag">basic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/big-data/" rel="tag">big data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blockchain/" rel="tag">blockchain</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos/" rel="tag">centos</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cglib/" rel="tag">cglib</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/checkstyle/" rel="tag">checkstyle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chrome/" rel="tag">chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computer-principle/" rel="tag">computer principle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cors/" rel="tag">cors</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-structure/" rel="tag">data structure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-pattern/" rel="tag">design-pattern</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es/" rel="tag">es</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eureka/" rel="tag">eureka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firefox/" rel="tag">firefox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/" rel="tag">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/geohash/" rel="tag">geohash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/geomesa/" rel="tag">geomesa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/" rel="tag">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/" rel="tag">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/groovy/" rel="tag">groovy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/" rel="tag">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/" rel="tag">hbase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idea/" rel="tag">idea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ip/" rel="tag">ip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/junit/" rel="tag">junit</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyter/" rel="tag">jupyter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyterhub/" rel="tag">jupyterhub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm/" rel="tag">jvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jwt/" rel="tag">jwt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/" rel="tag">kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/katalon/" rel="tag">katalon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keepalived/" rel="tag">keepalived</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/latex/" rel="tag">latex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-kernel/" rel="tag">linux kernel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/load-balance/" rel="tag">load balance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/log/" rel="tag">log</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/log4j/" rel="tag">log4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/log4j12/" rel="tag">log4j12</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/logback/" rel="tag">logback</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lombok/" rel="tag">lombok</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lru/" rel="tag">lru</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lucene/" rel="tag">lucene</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/magnet/" rel="tag">magnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/make/" rel="tag">make</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/makefile/" rel="tag">makefile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/manjaro/" rel="tag">manjaro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/md5/" rel="tag">md5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mhtml/" rel="tag">mhtml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microservice/" rel="tag">microservice</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/music/" rel="tag">music</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/notebook/" rel="tag">notebook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nvidia/" rel="tag">nvidia</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oauth/" rel="tag">oauth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openstack/" rel="tag">openstack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/optimization/" rel="tag">optimization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandas/" rel="tag">pandas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandoc/" rel="tag">pandoc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pgsql/" rel="tag">pgsql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/probability/" rel="tag">probability</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pyspark/" rel="tag">pyspark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/quartz/" rel="tag">quartz</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/resource/" rel="tag">resource</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/review/" rel="tag">review</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sbt/" rel="tag">sbt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala/" rel="tag">scala</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slf4j/" rel="tag">slf4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/" rel="tag">spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/" rel="tag">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-cloud/" rel="tag">spring cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/" rel="tag">spring-boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/" rel="tag">springboot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlserver/" rel="tag">sqlserver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/" rel="tag">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/syslog/" rel="tag">syslog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/term/" rel="tag">term</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/texlive/" rel="tag">texlive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thread/" rel="tag">thread</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/" rel="tag">tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/" rel="tag">tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/urban-computing/" rel="tag">urban computing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/video/" rel="tag">video</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vpn/" rel="tag">vpn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-dav/" rel="tag">web-dav</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week/" rel="tag">week</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordcloud/" rel="tag">wordcloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/work/" rel="tag">work</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xml/" rel="tag">xml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zipkin/" rel="tag">zipkin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/" rel="tag">zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/" rel="tag">云计算</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%83%E7%BC%96%E7%A8%8B/" rel="tag">元编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%8E%E5%B8%82%E8%AE%A1%E7%AE%97/" rel="tag">城市计算</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A6%82%E5%BF%B5/" rel="tag">概念</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95/" rel="tag">测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%90%E7%BB%B4/" rel="tag">运维</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AI/" style="font-size: 10.53px;">AI</a> <a href="/tags/UI-test/" style="font-size: 10px;">UI test</a> <a href="/tags/algorithm/" style="font-size: 10.53px;">algorithm</a> <a href="/tags/android/" style="font-size: 10.53px;">android</a> <a href="/tags/annotation/" style="font-size: 10px;">annotation</a> <a href="/tags/ansible/" style="font-size: 13.16px;">ansible</a> <a href="/tags/ant/" style="font-size: 10px;">ant</a> <a href="/tags/aop/" style="font-size: 10px;">aop</a> <a href="/tags/archiva/" style="font-size: 10px;">archiva</a> <a href="/tags/asciidoc/" style="font-size: 10px;">asciidoc</a> <a href="/tags/awk/" style="font-size: 10px;">awk</a> <a href="/tags/axios/" style="font-size: 10px;">axios</a> <a href="/tags/basic/" style="font-size: 13.16px;">basic</a> <a href="/tags/big-data/" style="font-size: 10.53px;">big data</a> <a href="/tags/blockchain/" style="font-size: 10px;">blockchain</a> <a href="/tags/centos/" style="font-size: 12.11px;">centos</a> <a href="/tags/cglib/" style="font-size: 10px;">cglib</a> <a href="/tags/checkstyle/" style="font-size: 10px;">checkstyle</a> <a href="/tags/chrome/" style="font-size: 11.05px;">chrome</a> <a href="/tags/computer-principle/" style="font-size: 10px;">computer principle</a> <a href="/tags/cors/" style="font-size: 10.53px;">cors</a> <a href="/tags/data-structure/" style="font-size: 10px;">data structure</a> <a href="/tags/design-pattern/" style="font-size: 10.53px;">design-pattern</a> <a href="/tags/docker/" style="font-size: 17.89px;">docker</a> <a href="/tags/elasticsearch/" style="font-size: 13.16px;">elasticsearch</a> <a href="/tags/es/" style="font-size: 10px;">es</a> <a href="/tags/eureka/" style="font-size: 10px;">eureka</a> <a href="/tags/firefox/" style="font-size: 10px;">firefox</a> <a href="/tags/flask/" style="font-size: 10px;">flask</a> <a href="/tags/geohash/" style="font-size: 10px;">geohash</a> <a href="/tags/geomesa/" style="font-size: 10px;">geomesa</a> <a href="/tags/git/" style="font-size: 13.16px;">git</a> <a href="/tags/gitlab/" style="font-size: 11.05px;">gitlab</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/groovy/" style="font-size: 10px;">groovy</a> <a href="/tags/hadoop/" style="font-size: 10.53px;">hadoop</a> <a href="/tags/hbase/" style="font-size: 11.58px;">hbase</a> <a href="/tags/hexo/" style="font-size: 10.53px;">hexo</a> <a href="/tags/html/" style="font-size: 10.53px;">html</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/idea/" style="font-size: 11.05px;">idea</a> <a href="/tags/ip/" style="font-size: 10px;">ip</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/javascript/" style="font-size: 11.58px;">javascript</a> <a href="/tags/js/" style="font-size: 13.16px;">js</a> <a href="/tags/junit/" style="font-size: 10px;">junit</a> <a href="/tags/jupyter/" style="font-size: 10px;">jupyter</a> <a href="/tags/jupyterhub/" style="font-size: 10.53px;">jupyterhub</a> <a href="/tags/jvm/" style="font-size: 10px;">jvm</a> <a href="/tags/jwt/" style="font-size: 10px;">jwt</a> <a href="/tags/k8s/" style="font-size: 11.05px;">k8s</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/katalon/" style="font-size: 10px;">katalon</a> <a href="/tags/keepalived/" style="font-size: 10.53px;">keepalived</a> <a href="/tags/latex/" style="font-size: 11.05px;">latex</a> <a href="/tags/life/" style="font-size: 18.95px;">life</a> <a href="/tags/linux/" style="font-size: 19.47px;">linux</a> <a href="/tags/linux-kernel/" style="font-size: 10px;">linux kernel</a> <a href="/tags/load-balance/" style="font-size: 10px;">load balance</a> <a href="/tags/log/" style="font-size: 10px;">log</a> <a href="/tags/log4j/" style="font-size: 10px;">log4j</a> <a href="/tags/log4j12/" style="font-size: 10px;">log4j12</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/lombok/" style="font-size: 10px;">lombok</a> <a href="/tags/lru/" style="font-size: 10px;">lru</a> <a href="/tags/lucene/" style="font-size: 10px;">lucene</a> <a href="/tags/magnet/" style="font-size: 10px;">magnet</a> <a href="/tags/make/" style="font-size: 10px;">make</a> <a href="/tags/makefile/" style="font-size: 10px;">makefile</a> <a href="/tags/manjaro/" style="font-size: 10px;">manjaro</a> <a href="/tags/math/" style="font-size: 11.05px;">math</a> <a href="/tags/maven/" style="font-size: 15.26px;">maven</a> <a href="/tags/md5/" style="font-size: 10px;">md5</a> <a href="/tags/mhtml/" style="font-size: 10px;">mhtml</a> <a href="/tags/microservice/" style="font-size: 14.21px;">microservice</a> <a href="/tags/music/" style="font-size: 10px;">music</a> <a href="/tags/mybatis/" style="font-size: 11.05px;">mybatis</a> <a href="/tags/mysql/" style="font-size: 12.11px;">mysql</a> <a href="/tags/nginx/" style="font-size: 12.63px;">nginx</a> <a href="/tags/notebook/" style="font-size: 10px;">notebook</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/nvidia/" style="font-size: 10px;">nvidia</a> <a href="/tags/oauth/" style="font-size: 10px;">oauth</a> <a href="/tags/openstack/" style="font-size: 12.11px;">openstack</a> <a href="/tags/optimization/" style="font-size: 10px;">optimization</a> <a href="/tags/pandas/" style="font-size: 10px;">pandas</a> <a href="/tags/pandoc/" style="font-size: 10px;">pandoc</a> <a href="/tags/pgsql/" style="font-size: 11.58px;">pgsql</a> <a href="/tags/probability/" style="font-size: 10px;">probability</a> <a href="/tags/pyspark/" style="font-size: 10px;">pyspark</a> <a href="/tags/python/" style="font-size: 17.37px;">python</a> <a href="/tags/quartz/" style="font-size: 10.53px;">quartz</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/redis/" style="font-size: 15.79px;">redis</a> <a href="/tags/resource/" style="font-size: 10px;">resource</a> <a href="/tags/review/" style="font-size: 10px;">review</a> <a href="/tags/sbt/" style="font-size: 10px;">sbt</a> <a href="/tags/scala/" style="font-size: 14.74px;">scala</a> <a href="/tags/shell/" style="font-size: 12.63px;">shell</a> <a href="/tags/slf4j/" style="font-size: 10px;">slf4j</a> <a href="/tags/spark/" style="font-size: 14.74px;">spark</a> <a href="/tags/spring/" style="font-size: 15.79px;">spring</a> <a href="/tags/spring-cloud/" style="font-size: 12.11px;">spring cloud</a> <a href="/tags/spring-boot/" style="font-size: 13.68px;">spring-boot</a> <a href="/tags/springboot/" style="font-size: 11.05px;">springboot</a> <a href="/tags/sql/" style="font-size: 11.05px;">sql</a> <a href="/tags/sqlserver/" style="font-size: 10.53px;">sqlserver</a> <a href="/tags/ssh/" style="font-size: 12.11px;">ssh</a> <a href="/tags/statistics/" style="font-size: 10px;">statistics</a> <a href="/tags/syslog/" style="font-size: 10px;">syslog</a> <a href="/tags/term/" style="font-size: 10px;">term</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/texlive/" style="font-size: 10px;">texlive</a> <a href="/tags/thread/" style="font-size: 10px;">thread</a> <a href="/tags/tomcat/" style="font-size: 13.16px;">tomcat</a> <a href="/tags/tool/" style="font-size: 16.84px;">tool</a> <a href="/tags/ubuntu/" style="font-size: 16.32px;">ubuntu</a> <a href="/tags/urban-computing/" style="font-size: 10px;">urban computing</a> <a href="/tags/video/" style="font-size: 10px;">video</a> <a href="/tags/vim/" style="font-size: 10.53px;">vim</a> <a href="/tags/vpn/" style="font-size: 10px;">vpn</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/vue/" style="font-size: 11.05px;">vue</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/web-dav/" style="font-size: 10px;">web-dav</a> <a href="/tags/webpack/" style="font-size: 10.53px;">webpack</a> <a href="/tags/week/" style="font-size: 18.42px;">week</a> <a href="/tags/windows/" style="font-size: 10px;">windows</a> <a href="/tags/wordcloud/" style="font-size: 10px;">wordcloud</a> <a href="/tags/work/" style="font-size: 10px;">work</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a> <a href="/tags/zipkin/" style="font-size: 10px;">zipkin</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a> <a href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/" style="font-size: 12.63px;">云计算</a> <a href="/tags/%E5%85%83%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">元编程</a> <a href="/tags/%E5%9F%8E%E5%B8%82%E8%AE%A1%E7%AE%97/" style="font-size: 10px;">城市计算</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">架构</a> <a href="/tags/%E6%A6%82%E5%BF%B5/" style="font-size: 10px;">概念</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">测试</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10px;">爬虫</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 10px;">运维</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/31/redis/000-redis-interview/">Redis面试总结202203</a>
          </li>
        
          <li>
            <a href="/2019/10/27/maven/009-maven-deploy/">使用IDEA部署jar包到maven仓库(maven deploy)</a>
          </li>
        
          <li>
            <a href="/2019/10/24/java/075-pluggable-annotation-processing-lombok/">Pluggable Annotation Processing的讲解与实践</a>
          </li>
        
          <li>
            <a href="/2019/10/18/life/036-weekly-learn/">2019-42-周报</a>
          </li>
        
          <li>
            <a href="/2019/10/15/shell/003-carriage-linechange/">r command not found</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Jackpler<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">home</a>
  
    <a href="/archives" class="mobile-nav-link">archives</a>
  
    <a href="/about" class="mobile-nav-link">about</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>