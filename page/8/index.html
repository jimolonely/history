<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-111673440-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
  <title>在我的世界</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="who,where,what">
<meta property="og:type" content="website">
<meta property="og:title" content="在我的世界">
<meta property="og:url" content="http://jimolonely.github.io/page/8/index.html">
<meta property="og:site_name" content="在我的世界">
<meta property="og:description" content="who,where,what">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jackpler">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="在我的世界" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.1.0"><link rel="stylesheet" href="/css/prism-atom-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">在我的世界</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">home</a>
        
          <a class="main-nav-link" href="/archives">archives</a>
        
          <a class="main-nav-link" href="/about">about</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://jimolonely.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-life/010-weekly-learn" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/25/life/010-weekly-learn/" class="article-date">
  <time datetime="2019-03-25T03:23:08.000Z" itemprop="datePublished">2019-03-25</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/25/life/010-weekly-learn/">2019-13-周报</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>这是2019年第13周周报。</p>
<ol>
<li><p>准备小组内<a target="_blank" rel="noopener" href="https://github.com/jimolonely/codes/tree/master/js-demo/ajax">JS-Ajax分享</a></p>
</li>
<li><p>学习springmvc源码：<a href="/2019/03/25/java/038-springmvc-handle-content-type/" title="springmvc如何处理content-type源码解析">springmvc如何处理content-type源码解析</a></p>
</li>
<li><a href="/2019/03/26/java/039-java-headless/" title="什么是Java Headless模式？">什么是Java Headless模式？</a>
</li>
<li><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5c6f730ce51d457f14363a53">读了SpringBoot一点源码，了解了下执行流程</a></p>
</li>
<li><p>重新开始学习mysql，<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/linux-installation-yum-repo.html">从安装开始</a></p>
</li>
<li><a href="/2019/03/26/java/040-spring-boot-load-properties-order-by-source-code/" title="源码解读spring-boot加载配置文件的顺序">源码解读spring-boot加载配置文件的顺序</a>
</li>
<li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/doiido/article/details/43793391">ssh连接缓慢-可以UseDNS关闭</a></p>
</li>
<li><a href="/2019/03/27/ansible/006-ansible-install-keepalived/" title="ansible 安装 keepalived">ansible 安装 keepalived</a>
</li>
<li><p>什么是云原生12要素？</p>
</li>
<li><p>关于postman自动化测试（newman）的方案研究</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5b25e8cae51d4558c4720845">自动化测试selenium实践</a></p>
</li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>这是2019年第13周周报。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/25/life/010-weekly-learn/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/25/life/010-weekly-learn/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/25/life/010-weekly-learn/" data-id="cl1fw7fk1006ivkd3awqpczk6" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/" rel="tag">life</a><span class="article-tag-list-count">32</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week/" rel="tag">week</a><span class="article-tag-list-count">26</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-maven/003-maven-reknown" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/22/maven/003-maven-reknown/" class="article-date">
  <time datetime="2019-03-22T03:02:59.000Z" itemprop="datePublished">2019-03-22</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/22/maven/003-maven-reknown/">maven再学习</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>共同学习把：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/davenkin/p/advanced-maven-multi-module-vs-inheritance.html">Maven提高篇系列</a></p>
<p><a target="_blank" rel="noopener" href="https://books.sonatype.com/mvnref-book/reference/pom-relationships.html">maven book</a></p>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>创建父模块</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">mvn archetype:generate -DgroupId=com.jimo -DartifactId=maven-multi -DarchetypeGroupId=org.codehaus.mojo.archetypes -DarchetypeArtifactId=pom-root -DinteractiveMode=<span class="literal">false</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> maven-multi</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> pom.xml</span> </span><br><span class="line">&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;</span><br><span class="line">  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.jimo&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;maven-multi&lt;/artifactId&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;/packaging&gt;</span><br><span class="line">  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">  &lt;name&gt;maven-multi Maven Multi Project&lt;/name&gt;</span><br><span class="line">  &lt;url&gt;http://maven.apache.org&lt;/url&gt;</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>
<p>创建子模块</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate -DgroupId=com.jimo -DartifactId=core -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">$ cd core/</span><br><span class="line"></span><br><span class="line">core$ ls</span><br><span class="line">pom.xml  src</span><br><span class="line"></span><br><span class="line">core$ tree</span><br><span class="line">.</span><br><span class="line">├── pom.xml</span><br><span class="line">└── src</span><br><span class="line">    ├── main</span><br><span class="line">    │   └── java</span><br><span class="line">    │       └── com</span><br><span class="line">    │           └── jimo</span><br><span class="line">    │               └── App.java</span><br><span class="line">    └── test</span><br><span class="line">        └── java</span><br><span class="line">            └── com</span><br><span class="line">                └── jimo</span><br><span class="line">                    └── AppTest.java</span><br><span class="line"></span><br><span class="line"><span class="number">9</span> directories, <span class="number">3</span> files</span><br><span class="line"></span><br><span class="line">core$ cat pom.xml </span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span>?&gt;</span><br><span class="line">&lt;project xsi:schemaLocation=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span> xmlns=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="line">    xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>&gt;</span><br><span class="line">  &lt;modelVersion&gt;<span class="number">4.0</span><span class="number">.0</span>&lt;/modelVersion&gt;</span><br><span class="line">  &lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;com.jimo&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;maven-multi&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">1.0</span>-SNAPSHOT&lt;/version&gt;</span><br><span class="line">  &lt;/parent&gt;</span><br><span class="line">  &lt;groupId&gt;com.jimo&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;core&lt;/artifactId&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.0</span>-SNAPSHOT&lt;/version&gt;</span><br><span class="line">  &lt;name&gt;core&lt;/name&gt;</span><br><span class="line">  &lt;url&gt;http:<span class="comment">//maven.apache.org&lt;/url&gt;</span></span><br><span class="line">  &lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">      &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">      &lt;version&gt;<span class="number">3.8</span><span class="number">.1</span>&lt;/version&gt;</span><br><span class="line">      &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">  &lt;/dependencies&gt;</span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>
<p>返回父模块，发现pom已经变了：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">core$ cd ..</span><br><span class="line"></span><br><span class="line">maven-multi$ cat pom.xml </span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;project xmlns=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> xsi:schemaLocation=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span>&gt;</span><br><span class="line">  &lt;modelVersion&gt;<span class="number">4.0</span><span class="number">.0</span>&lt;/modelVersion&gt;</span><br><span class="line">  &lt;groupId&gt;com.jimo&lt;/groupId&gt;</span><br><span class="line">  &lt;artifactId&gt;maven-multi&lt;/artifactId&gt;</span><br><span class="line">  &lt;packaging&gt;pom&lt;/packaging&gt;</span><br><span class="line">  &lt;version&gt;<span class="number">1.0</span>-SNAPSHOT&lt;/version&gt;</span><br><span class="line">  &lt;name&gt;maven-multi Maven Multi Project&lt;/name&gt;</span><br><span class="line">  &lt;url&gt;http:<span class="comment">//maven.apache.org&lt;/url&gt;</span></span><br><span class="line">  &lt;modules&gt;</span><br><span class="line">    &lt;<span class="keyword">module</span>&gt;core&lt;/<span class="keyword">module</span>&gt;</span><br><span class="line">  &lt;/modules&gt;</span><br></pre></td></tr></table></figure>
<p>继续创建另一个模块webapp</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate -DgroupId=com.jimo -DartifactId=webapp -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn clean install</span><br></pre></td></tr></table></figure>
<h1 id="学习后的问题总结"><a href="#学习后的问题总结" class="headerlink" title="学习后的问题总结"></a>学习后的问题总结</h1><ol>
<li><p>maven的多模块和继承有什么区别？</p>
<ol>
<li>多模块： 在install时会把所有模块都安装到本地残酷，而继承只会安装父模块</li>
<li>只有多模块声明时，当然不能共享pom了，每个子模块都得声明一套自己的依赖</li>
</ol>
</li>
<li><p>如何搭建自己的仓库？</p>
<ol>
<li>nexus</li>
<li>Artifactory</li>
<li>FTP服务器</li>
</ol>
</li>
<li><p>maven的profile作用是啥，怎么使用？</p>
</li>
<li><p>常用命令： </p>
<ol>
<li>tree命令 :<code>mvn dependency:tree -Dverbose</code></li>
<li>查看从super-pom继承了哪些属性：<code>mvn help:effective-pom</code></li>
</ol>
</li>
<li><p>如何写一个maven plugin出来？</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>共同学习把：</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/22/maven/003-maven-reknown/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/22/maven/003-maven-reknown/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/22/maven/003-maven-reknown/" data-id="cl1fw7fmy00gxvkd3198mecjz" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/maven/" rel="tag">maven</a><span class="article-tag-list-count">11</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/037-jar-java-cmdline" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/20/java/037-jar-java-cmdline/" class="article-date">
  <time datetime="2019-03-20T01:29:06.000Z" itemprop="datePublished">2019-03-20</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/20/java/037-jar-java-cmdline/">掌握java命令行编译打包</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>设想遇到这样一种情况： 你被派到一个网络环境封闭、只有shell访问的linux系统去修改代码，你的代码是以jar包形式运行的，<br>你要改的地方很少，就一行代码，你会怎么做？</p>
<p>现在程序员都使用Eclipse或IDEA等集成开发工具， 几乎已经忘了命令行如何编译、打包，虽然这个不是天天遇到，但遇到了<br>就是体现差距的地方了。</p>
<p>ok，针对上面的场景，我们创建一个实验环境。</p>
<h1 id="实践过程"><a href="#实践过程" class="headerlink" title="实践过程"></a>实践过程</h1><p>我们的环境下有一个jar包（关于这个jar包怎么来的，请参加下面# 关于源文件以及打包过程）：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ls</span><br><span class="line">Hello.jar</span><br></pre></td></tr></table></figure>
<p>查看下jar包内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ jar -tf Hello.jar </span><br><span class="line">META-INF/</span><br><span class="line">META-INF/MANIFEST.MF</span><br><span class="line">com/</span><br><span class="line">com/jimo/</span><br><span class="line">com/jimo/test/</span><br><span class="line">com/jimo/test/Test.<span class="keyword">class</span></span><br><span class="line"><span class="title class_">com</span>/jimo/Hello.class</span><br></pre></td></tr></table></figure>

<p>要改文件，肯定得解压出来呀：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ jar -xvf Hello.jar </span><br><span class="line">  已创建: META-INF/</span><br><span class="line">  已解压: META-INF/MANIFEST.MF</span><br><span class="line">  已创建: com/</span><br><span class="line">  已创建: com/jimo/</span><br><span class="line">  已创建: com/jimo/test/</span><br><span class="line">  已解压: com/jimo/test/Test.class</span><br><span class="line">  已解压: com/jimo/Hello.class</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ tree</span><br><span class="line">.</span><br><span class="line">├── com</span><br><span class="line">│   └── jimo</span><br><span class="line">│       ├── Hello.class</span><br><span class="line">│       └── test</span><br><span class="line">│           └── Test.class</span><br><span class="line">├── Hello.jar</span><br><span class="line">└── META-INF</span><br><span class="line">    └── MANIFEST.MF</span><br></pre></td></tr></table></figure>
<p>然后替换新的jar包即可。</p>
<h1 id="关于源文件以及打包过程"><a href="#关于源文件以及打包过程" class="headerlink" title="关于源文件以及打包过程"></a>关于源文件以及打包过程</h1><p>目录结构：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">tree com/</span></span><br><span class="line">com/</span><br><span class="line">└── jimo</span><br><span class="line">    ├── Hello.java</span><br><span class="line">    └── test</span><br><span class="line">        └── Test.java</span><br></pre></td></tr></table></figure>
<p>源文件内容：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ cat com/jimo/Hello.java </span><br><span class="line"><span class="keyword">package</span> com.jimo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.jimo.test.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[]args)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello, Jimo!&quot;</span>);</span><br><span class="line">        Test.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-------------------------------------------</span></span><br><span class="line"></span><br><span class="line">$ cat com/jimo/test/Test.java </span><br><span class="line"><span class="keyword">package</span> com.jimo.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This is Test!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译： <code>-d</code>选项指定编译后文件存放目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> target</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">javac -d target/ com/jimo/*.java</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">com  target</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">tree target/</span></span><br><span class="line">target/</span><br><span class="line">└── com</span><br><span class="line">    └── jimo</span><br><span class="line">        ├── Hello.class</span><br><span class="line">        └── test</span><br><span class="line">            └── Test.class</span><br></pre></td></tr></table></figure>
<p>打包成jar包：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">首先进入target目录</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> target</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">打包</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">jar cvf Hello.jar com</span></span><br><span class="line">&#x27;已添加清单</span><br><span class="line">正在添加: target/com/(输入 = 0) (输出 = 0)(存储了 0%)</span><br><span class="line">正在添加: target/com/jimo/(输入 = 0) (输出 = 0)(存储了 0%)</span><br><span class="line">正在添加: target/com/jimo/test/(输入 = 0) (输出 = 0)(存储了 0%)</span><br><span class="line">正在添加: target/com/jimo/test/Test.class(输入 = 405) (输出 = 286)(压缩了 29%)</span><br><span class="line">正在添加: target/com/jimo/Hello.class(输入 = 474) (输出 = 317)(压缩了 33%)</span><br></pre></td></tr></table></figure>
<p>现在我们运行下jar包：发现报错了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">java -jar Hello.jar</span> </span><br><span class="line">Hello.jar中没有主清单属性</span><br></pre></td></tr></table></figure>
<p>既然没有主清单文件，我们就创建一个，核心就是指定主类：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">target$ </span><span class="language-bash"><span class="built_in">cat</span> manifest</span> </span><br><span class="line"></span><br><span class="line">Manifest-Version: 1.0</span><br><span class="line">Created-By: jimo</span><br><span class="line">Main-Class: com.jimo.Hello</span><br></pre></td></tr></table></figure>

<p>然后重新打包运行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">jar cvfm Hello.jar manifest com</span></span><br><span class="line">已添加清单</span><br><span class="line">正在添加: com/(输入 = 0) (输出 = 0)(存储了 0%)</span><br><span class="line">正在添加: com/jimo/(输入 = 0) (输出 = 0)(存储了 0%)</span><br><span class="line">正在添加: com/jimo/test/(输入 = 0) (输出 = 0)(存储了 0%)</span><br><span class="line">正在添加: com/jimo/test/Test.class(输入 = 405) (输出 = 286)(压缩了 29%)</span><br><span class="line">正在添加: com/jimo/Hello.class(输入 = 474) (输出 = 317)(压缩了 33%)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">target$ </span><span class="language-bash">java -jar Hello.jar</span> </span><br><span class="line">Hello, Jimo!</span><br><span class="line">This is Test!</span><br></pre></td></tr></table></figure>

<p>看下最后的结构：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ tree</span><br><span class="line">.</span><br><span class="line">├── com</span><br><span class="line">│   └── jimo</span><br><span class="line">│       ├── Hello.java</span><br><span class="line">│       └── test</span><br><span class="line">│           └── Test.java</span><br><span class="line">└── target</span><br><span class="line">    ├── com</span><br><span class="line">    │   └── jimo</span><br><span class="line">    │       ├── Hello.class</span><br><span class="line">    │       └── test</span><br><span class="line">    │           └── Test.class</span><br><span class="line">    ├── Hello.jar</span><br><span class="line">    └── manifest</span><br></pre></td></tr></table></figure>

<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><ol>
<li><p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html">Working with Manifest Files</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/EasonJim/p/6485677.html">关于MANIFEST.MF文件的解释</a></p>
</li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>设想遇到这样一种情况： 你被派到一个网络环境封闭、只有shell访问的linux系统去修改代码，你的代码是以jar包形式运行的，<br>你要改的地方很少，就一行代码，你会怎么做？</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/20/java/037-jar-java-cmdline/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/20/java/037-jar-java-cmdline/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/20/java/037-jar-java-cmdline/" data-id="cl1fw7flc00awvkd30tpwgn1f" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-db/007-pgsql-updateset-ambiguous-column" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/19/db/007-pgsql-updateset-ambiguous-column/" class="article-date">
  <time datetime="2019-03-19T09:27:51.000Z" itemprop="datePublished">2019-03-19</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/19/db/007-pgsql-updateset-ambiguous-column/">pgsql update set ambiguous column</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文从一个问题出发，引申出pgsql的隐藏信息。</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>执行下面的sql：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> region (region, cloud_uuid, controllerinfo,createTime, is_select )</span><br><span class="line"><span class="keyword">values</span> (<span class="string">&#x27;r&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;cc&#x27;</span>,now(),<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="keyword">ON</span> CONFLICT(&quot;cloud_uuid&quot;,&quot;region&quot;) DO <span class="keyword">UPDATE</span> <span class="keyword">SET</span></span><br><span class="line">  region<span class="operator">=</span><span class="string">&#x27;r&#x27;</span>,cloud_uuid<span class="operator">=</span><span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">  controllerinfo<span class="operator">=</span><span class="string">&#x27;cc&#x27;</span>,createTime<span class="operator">=</span>now(),</span><br><span class="line">  is_select<span class="operator">=</span>(<span class="keyword">case</span> <span class="keyword">when</span> is_select<span class="operator">=</span><span class="string">&#x27;0&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;0&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">end</span>);</span><br></pre></td></tr></table></figure>
<p>然后：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[42702] ERROR: column reference &quot;is_select&quot; is ambiguous</span><br></pre></td></tr></table></figure>

<h1 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h1><p>很明显，when后面的is_select被多个表引用，源于这是一个插入更新，会把原来的数据和要插入的数据分开:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ON CONFLICT DO UPDATE中的SET和WHERE子句可以使用表的名称（或别名）访问现有行，</span><br><span class="line">并使用excluded表访问将要插入的行。</span><br></pre></td></tr></table></figure>
<p>所以： 访问要插入数据，使用excluded.columnxxx, 访问原来的数据，使用表或其别名.columnxxx</p>
<p><a target="_blank" rel="noopener" href="https://dba.stackexchange.com/questions/161127/column-reference-is-ambiguous-when-upserting-element-into-table">column-reference-is-ambiguous-when-upserting-element-into-table</a></p>
<h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><p>确定自己要引用的表，我这里是原来的表。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> region (region, cloud_uuid, controllerinfo,createTime, is_select )</span><br><span class="line"><span class="keyword">values</span> (<span class="string">&#x27;r&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;cc&#x27;</span>,now(),<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line"><span class="keyword">ON</span> CONFLICT(&quot;cloud_uuid&quot;,&quot;region&quot;) DO <span class="keyword">UPDATE</span> <span class="keyword">SET</span></span><br><span class="line">  region<span class="operator">=</span><span class="string">&#x27;r&#x27;</span>,cloud_uuid<span class="operator">=</span><span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">  controllerinfo<span class="operator">=</span><span class="string">&#x27;cc&#x27;</span>,createTime<span class="operator">=</span>now(),</span><br><span class="line">  is_select<span class="operator">=</span>(<span class="keyword">case</span> <span class="keyword">when</span> region.is_select<span class="operator">=</span><span class="string">&#x27;0&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;0&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">end</span>);</span><br></pre></td></tr></table></figure>



      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文从一个问题出发，引申出pgsql的隐藏信息。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/19/db/007-pgsql-updateset-ambiguous-column/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/19/db/007-pgsql-updateset-ambiguous-column/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/19/db/007-pgsql-updateset-ambiguous-column/" data-id="cl1fw7fj4003uvkd3h5589flk" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pgsql/" rel="tag">pgsql</a><span class="article-tag-list-count">4</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/036-springboot-kafkatemplate" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/19/java/036-springboot-kafkatemplate/" class="article-date">
  <time datetime="2019-03-19T06:56:41.000Z" itemprop="datePublished">2019-03-19</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/19/java/036-springboot-kafkatemplate/">springboot kafkaTemplate使用</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>如果能用spring-boot集成的组件当然是最好的。</p>
<p><a href="">项目地址</a></p>
<h1 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.3.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.kafka<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-kafka<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html">完整配置请点我</a></p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8088</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">kafka:</span></span><br><span class="line">    <span class="attr">consumer:</span></span><br><span class="line">      <span class="attr">auto-commit-interval:</span> <span class="number">1000</span></span><br><span class="line">      <span class="attr">group-id:</span> <span class="string">logdowngroup1</span></span><br><span class="line">      <span class="attr">bootstrap-servers:</span> <span class="string">h1:9092,h2:9092,h3:9092</span></span><br><span class="line">      <span class="attr">auto-offset-reset:</span> <span class="string">latest</span></span><br><span class="line">      <span class="attr">key-deserializer:</span> <span class="string">org.apache.kafka.common.serialization.StringDeserializer</span></span><br><span class="line">      <span class="attr">value-deserializer:</span> <span class="string">org.apache.kafka.common.serialization.StringDeserializer</span></span><br><span class="line">      <span class="attr">properties:</span></span><br><span class="line">        <span class="attr">rebalance:</span></span><br><span class="line">          <span class="attr">backoff:</span></span><br><span class="line">            <span class="attr">ms:</span> <span class="number">2000</span></span><br><span class="line">          <span class="attr">max:</span></span><br><span class="line">            <span class="attr">retries:</span> <span class="number">10</span></span><br><span class="line">    <span class="attr">producer:</span></span><br><span class="line">      <span class="attr">bootstrap-servers:</span> <span class="string">h1:9092,h2:9092,h3:9092</span></span><br><span class="line">      <span class="attr">key-serializer:</span> <span class="string">org.apache.kafka.common.serialization.StringSerializer</span></span><br><span class="line">      <span class="attr">value-serializer:</span> <span class="string">org.apache.kafka.common.serialization.StringSerializer</span></span><br><span class="line">      <span class="attr">acks:</span> <span class="string">all</span></span><br><span class="line">      <span class="attr">retries:</span> <span class="number">0</span></span><br><span class="line">      <span class="attr">batch-size:</span> <span class="number">16384</span></span><br><span class="line">      <span class="attr">buffer-memory:</span> <span class="number">33554432</span></span><br><span class="line">      <span class="attr">properties:</span></span><br><span class="line">        <span class="attr">metadata:</span></span><br><span class="line">          <span class="attr">broker:</span></span><br><span class="line">            <span class="attr">list:</span> <span class="string">h1:9092,h2:9092,h3:9092</span></span><br><span class="line">        <span class="attr">message:</span></span><br><span class="line">          <span class="attr">send:</span></span><br><span class="line">            <span class="attr">max:</span></span><br><span class="line">              <span class="attr">retries:</span> <span class="number">3</span></span><br><span class="line">        <span class="attr">linger:</span></span><br><span class="line">          <span class="attr">ms:</span> <span class="number">1</span></span><br><span class="line">        <span class="attr">ssl:</span></span><br><span class="line">          <span class="attr">client:</span></span><br><span class="line">            <span class="attr">auth:</span> <span class="string">required</span></span><br></pre></td></tr></table></figure>
<p>注意，里面properties是其他配置，如果对应的kafka没有这些配置，则不起作用，会打印警告日志：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2019</span>-<span class="number">03</span>-<span class="number">19</span> <span class="number">14</span>:<span class="number">51</span>:<span class="number">55.616</span>  WARN <span class="number">20894</span> --- [nio-<span class="number">8088</span>-exec-<span class="number">3</span>] o.a.k.clients.producer.ProducerConfig    :</span><br><span class="line"> The configuration <span class="string">&#x27;message.send.max.retries&#x27;</span> was supplied but isn<span class="string">&#x27;t a known config.</span></span><br><span class="line"><span class="string">2019-03-19 14:51:55.617  WARN 20894 --- [nio-8088-exec-3] o.a.k.clients.producer.ProducerConfig    : </span></span><br><span class="line"><span class="string">The configuration &#x27;</span>ssl.client.auth<span class="string">&#x27; was supplied but isn&#x27;</span>t a known config.</span><br><span class="line"><span class="number">2019</span>-<span class="number">03</span>-<span class="number">19</span> <span class="number">14</span>:<span class="number">51</span>:<span class="number">55.617</span>  WARN <span class="number">20894</span> --- [nio-<span class="number">8088</span>-exec-<span class="number">3</span>] o.a.k.clients.producer.ProducerConfig    :</span><br><span class="line"> The configuration <span class="string">&#x27;metadata.broker.list&#x27;</span> was supplied but isn<span class="string">&#x27;t a known config.</span></span><br></pre></td></tr></table></figure>

<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>生产者：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.kafka.core.KafkaTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Producer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(Producer.class);</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">TOPIC</span> <span class="operator">=</span> <span class="string">&quot;users&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> KafkaTemplate&lt;String, String&gt; kafkaTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;------producer msg: [&#123;&#125;]&quot;</span>, msg);</span><br><span class="line">        kafkaTemplate.send(TOPIC, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>消费者：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.kafka.annotation.KafkaListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Consumer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(Consumer.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@KafkaListener(topics = Producer.TOPIC)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">consumes</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;------consumer msg:[&#123;&#125;]&quot;</span>, msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>controller:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/kafka&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KafkaController</span> &#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> Producer producer;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/publish&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sendMsg</span><span class="params">(<span class="meta">@RequestParam(&quot;msg&quot;)</span> String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.producer.sendMessage(msg);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;send msg[&quot;</span> + msg + <span class="string">&quot;] success!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>访问：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl http://localhost:8088/kafka/publish?msg=hahah</span><br><span class="line">send msg[hahah] success!</span><br></pre></td></tr></table></figure>
<p>log:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2019</span>-<span class="number">03</span>-<span class="number">19</span> <span class="number">15</span>:08:<span class="number">05.959</span>  INFO <span class="number">20894</span> --- [nio-<span class="number">8088</span>-exec-<span class="number">7</span>] com.jimo.kafka.Producer                  </span><br><span class="line">: &gt;&gt;&gt;&gt;&gt;------producer msg: [hahah]</span><br><span class="line"><span class="number">2019</span>-<span class="number">03</span>-<span class="number">19</span> <span class="number">15</span>:08:<span class="number">06.027</span>  INFO <span class="number">20894</span> --- [ntainer#<span class="number">0</span>-<span class="number">0</span>-C-<span class="number">1</span>] com.jimo.kafka.Consumer                  </span><br><span class="line">: &lt;&lt;&lt;&lt;&lt;------consumer msg:[hahah]</span><br></pre></td></tr></table></figure>

<h1 id="可配置"><a href="#可配置" class="headerlink" title="可配置"></a>可配置</h1><p>如果我们想让topic字段可配置，就需要做一点小改变：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-kafka/issues/132">@KafkaListener的topic可以是SpEL表达式</a>,<br><a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-kafka/issues/361">或这个</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@KafkaListener(topics = &quot;$&#123;kafka.topic&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">consumes2</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">    logger.info(<span class="string">&quot;&lt;&lt;&lt;&lt;&lt;------consumer2 msg:[&#123;&#125;]&quot;</span>, msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>producer同步发送：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;$&#123;kafka.topic&#125;&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String topic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">sendMsgSync</span><span class="params">(String key, String msg)</span> &#123;</span><br><span class="line">    logger.info(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;------producer msg: [&#123;&#125;]&quot;</span>, msg);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="type">boolean</span>[] ok = &#123;<span class="literal">true</span>&#125;;</span><br><span class="line">    ProducerRecord&lt;String, String&gt; record = <span class="keyword">new</span> <span class="title class_">ProducerRecord</span>&lt;&gt;(topic, key, msg);</span><br><span class="line">    ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = kafkaTemplate.send(record);</span><br><span class="line">    future.addCallback(<span class="keyword">new</span> <span class="title class_">ListenableFutureCallback</span>&lt;SendResult&lt;String, String&gt;&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onFailure</span><span class="params">(<span class="meta">@NonNull</span> Throwable throwable)</span> &#123;</span><br><span class="line">            logger.error(<span class="string">&quot;sent message=[&#123;&#125;] failed!&quot;</span>, msg, throwable);</span><br><span class="line">            ok[<span class="number">0</span>] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onSuccess</span><span class="params">(SendResult&lt;String, String&gt; result)</span> &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;sent message=[&#123;&#125;] with offset=[&#123;&#125;] success!&quot;</span>, msg, result.getRecordMetadata().offset());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 因为是异步发送，所以我们等待，最多10s</span></span><br><span class="line">        future.get(<span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException | ExecutionException | TimeoutException e) &#123;</span><br><span class="line">        logger.error(<span class="string">&quot;waiting for kafka send finish failed!&quot;</span>, e);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ok[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>记得配置：</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">kafka:</span></span><br><span class="line">  <span class="attr">topic:</span> <span class="string">test</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.kafka.support.SendResult">参考文章</a></p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>如果能用spring-boot集成的组件当然是最好的。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/19/java/036-springboot-kafkatemplate/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/19/java/036-springboot-kafkatemplate/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/19/java/036-springboot-kafkatemplate/" data-id="cl1fw7flb00arvkd323g07prd" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring-boot/" rel="tag">spring-boot</a><span class="article-tag-list-count">8</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-linux/020-ubuntu-install-extensions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/19/linux/020-ubuntu-install-extensions/" class="article-date">
  <time datetime="2019-03-19T00:19:47.000Z" itemprop="datePublished">2019-03-19</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/19/linux/020-ubuntu-install-extensions/">ubuntu安装扩展/插件</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文翻译自<a target="_blank" rel="noopener" href="https://linuxconfig.org/how-to-install-gnome-shell-extensions-on-ubuntu-18-04-bionic-beaver-linux">how-to-install-gnome-shell-extensions-on-ubuntu-18-04-bionic-beaver-linux</a></p>
<p>本文将介绍3种方式安装ubuntu下gnome的extentions。</p>
<h1 id="1-从ubuntu仓库安装"><a href="#1-从ubuntu仓库安装" class="headerlink" title="1.从ubuntu仓库安装"></a>1.从ubuntu仓库安装</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo apt install gnome-shell-extensions</span></span><br></pre></td></tr></table></figure>
<p>不过需要tweak-tool，18.x没有默认安装，需要手动：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo add-apt-repository universe</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sudo apt install gnome-tweak-tool</span></span><br></pre></td></tr></table></figure>
<img src="/2019/03/19/linux/020-ubuntu-install-extensions/000.png" class="">

<h1 id="2-使用firefox安装"><a href="#2-使用firefox安装" class="headerlink" title="2.使用firefox安装"></a>2.使用firefox安装</h1><ol>
<li><p><a target="_blank" rel="noopener" href="https://addons.mozilla.org/en-US/firefox/addon/gnome-shell-integration/">安装firefox-gnome-shell扩展</a></p>
</li>
<li><p>安装chrome-gnome-shell: <code>$ sudo apt install chrome-gnome-shell</code></p>
</li>
<li><p>访问<a target="_blank" rel="noopener" href="https://extensions.gnome.org/">gnome.org</a>选择需要的扩展，然后勾选为on即可：</p>
 <img src="/2019/03/19/linux/020-ubuntu-install-extensions/001.png" class=""></li>
</ol>
<h1 id="3-从源码安装"><a href="#3-从源码安装" class="headerlink" title="3.从源码安装"></a>3.从源码安装</h1><p>当然，在能获取到源码的前提下。</p>
<p>&#x2F;&#x2F; TODO</p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文翻译自<a target="_blank" rel="noopener" href="https://linuxconfig.org/how-to-install-gnome-shell-extensions-on-ubuntu-18-04-bionic-beaver-linux">how-to-install-gnome-shell-extensions-on-ubuntu-18-04-bionic-beaver-linux</a></p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/19/linux/020-ubuntu-install-extensions/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/19/linux/020-ubuntu-install-extensions/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/19/linux/020-ubuntu-install-extensions/" data-id="cl1fw7fmm00fmvkd3ev2th5no" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/firefox/" rel="tag">firefox</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="article-tag-list-count">57</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a><span class="article-tag-list-count">13</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-life/009-weekly-learn" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/18/life/009-weekly-learn/" class="article-date">
  <time datetime="2019-03-18T00:11:57.000Z" itemprop="datePublished">2019-03-18</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/18/life/009-weekly-learn/">2019-12-周报</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>这是2019年第12周周报。</p>
<ol>
<li><p>练习leetcode</p>
</li>
<li><p>stream流处理的特点：</p>
<ol>
<li>无存储：只是数据窗口</li>
<li>一次性： 消费完了就没了</li>
<li>惰性： 需要结果才计算</li>
<li>函数式编程</li>
</ol>
</li>
<li><p>如何理解流： 只需掌握3个步骤：</p>
<ol>
<li>创建： 集合的.stream() , Stream.of(…)</li>
<li>中间步骤: filter, map, sort, limit&#x2F;skip, distinct </li>
<li>最终操作: forEach(), count(), collect()</li>
</ol>
</li>
<li><p>@Resource,@Inject,@Autowired的区别： <a target="_blank" rel="noopener" href="https://www.baeldung.com/spring-annotations-resource-inject-autowire">参考</a></p>
<ol>
<li>@Resource:<ol>
<li>name</li>
<li>type</li>
<li>qualifier</li>
</ol>
</li>
<li>@Inject:<ol>
<li>type</li>
<li>qualifier</li>
<li>name</li>
</ol>
</li>
<li>@Autowired: 顺序和@Inject一样，只是是spring自带的注解</li>
</ol>
</li>
<li><p><a target="_blank" rel="noopener" href="https://dzone.com/articles/an-interview-question-on-spring-singletons">你怎么理解spring中的单例模式</a>:</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring中的单例并不是只有一个实例，而是针对唯一的id只有一个实例对应，也就是引用是单例的。</span><br></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/6371638/slf4j-how-to-log-formatted-message-object-array-exception">slf4j logger format 占位符写法</a></p>
</li>
<li><p>mysql-datediff(date1,date2): <code>SELECT DATEDIFF(&quot;2017-06-25&quot;, &quot;2017-06-27&quot;); == (-2)</code></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/yuanliangding/books">发现github上一个电子书库</a></p>
</li>
<li><a href="/2019/03/19/linux/020-ubuntu-install-extensions/" title="ubuntu安装扩展&#x2F;插件">ubuntu安装扩展&#x2F;插件</a>
</li>
<li><a href="/2019/03/19/db/007-pgsql-updateset-ambiguous-column/" title="pgsql update set ambiguous column">pgsql update set ambiguous column</a>
</li>
<li><a href="/2019/03/20/java/037-jar-java-cmdline/" title="掌握java命令行编译打包">掌握java命令行编译打包</a>
</li>
<li><p>复习了hbase的写法，hbaseTemplate的使用</p>
</li>
<li><a href="/2019/03/22/maven/003-maven-reknown/" title="maven再学习">maven再学习</a></li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>这是2019年第12周周报。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/18/life/009-weekly-learn/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/18/life/009-weekly-learn/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/18/life/009-weekly-learn/" data-id="cl1fw7fk2006kvkd38uq79oli" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/" rel="tag">life</a><span class="article-tag-list-count">32</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week/" rel="tag">week</a><span class="article-tag-list-count">26</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-tools/014-chrome-flags" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/17/tools/014-chrome-flags/" class="article-date">
  <time datetime="2019-03-17T02:02:22.000Z" itemprop="datePublished">2019-03-17</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/17/tools/014-chrome-flags/">chrome开发者选项-flags</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>对chrome的探索，永不停止。</p>
<p>今天为了保存网页为mhtml，发现了chrome的flags选项：</p>
<img src="/2019/03/17/tools/014-chrome-flags/000.png" class="">

<p>&#x2F;&#x2F; TODO 探索其他选项</p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>对chrome的探索，永不停止。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/17/tools/014-chrome-flags/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/17/tools/014-chrome-flags/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/17/tools/014-chrome-flags/" data-id="cl1fw7fo600l6vkd374am8cto" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/chrome/" rel="tag">chrome</a><span class="article-tag-list-count">3</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/035-mybatis-mapkey" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/15/java/035-mybatis-mapkey/" class="article-date">
  <time datetime="2019-03-15T02:21:50.000Z" itemprop="datePublished">2019-03-15</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/15/java/035-mybatis-mapkey/">mybatis中的mapkey</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>mybatis中有一个注解，虽然不能满足要求，但可以将就。</p>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>有如下sql：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select service_role, count(asset_id) from asset_role group by service_role;</span><br></pre></td></tr></table></figure>
<p>结果如下：</p>
<img src="/2019/03/15/java/035-mybatis-mapkey/001.png" class="">

<p>本来想使用如下方法映射：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, Integer&gt; <span class="title function_">groupByServiceRole</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">assertEquals(<span class="number">2</span>, (<span class="type">long</span>) map2.get(<span class="string">&quot;hadoop&quot;</span>));</span><br><span class="line">assertEquals(<span class="number">1</span>, (<span class="type">long</span>) map2.get(<span class="string">&quot;spark&quot;</span>));</span><br></pre></td></tr></table></figure>
<p>然而完全不是这样。这样返回的value还是个map。</p>
<h1 id="mapkey"><a href="#mapkey" class="headerlink" title="mapkey"></a>mapkey</h1><p>使用了mapkey注解后，返回的key还是个map，结果如下：</p>
<img src="/2019/03/15/java/035-mybatis-mapkey/000.png" class="">

<p>这样也好办，多加一级map：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MapKey(&quot;service_role&quot;)</span></span><br><span class="line">Map&lt;String, Map&lt;String, Object&gt;&gt; <span class="title function_">groupByServiceRole</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">Map&lt;String, Map&lt;String, Object&gt;&gt; map2 = dao.groupByServiceRole();</span><br><span class="line">assertEquals(<span class="number">2</span>, (<span class="type">long</span>) map2.get(<span class="string">&quot;hadoop&quot;</span>).get(<span class="string">&quot;count&quot;</span>));</span><br><span class="line">assertEquals(<span class="number">1</span>, (<span class="type">long</span>) map2.get(<span class="string">&quot;spark&quot;</span>).get(<span class="string">&quot;count&quot;</span>));</span><br></pre></td></tr></table></figure>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>mybatis中有一个注解，虽然不能满足要求，但可以将就。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/15/java/035-mybatis-mapkey/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/15/java/035-mybatis-mapkey/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/15/java/035-mybatis-mapkey/" data-id="cl1fw7fla00apvkd3d5ck7p26" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a><span class="article-tag-list-count">3</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/034-jsch-interactive-shell-stream-redirect" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/14/java/034-jsch-interactive-shell-stream-redirect/" class="article-date">
  <time datetime="2019-03-14T00:18:42.000Z" itemprop="datePublished">2019-03-14</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/14/java/034-jsch-interactive-shell-stream-redirect/">JSch连接交互式shell+输出流重定向</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引入maven库"><a href="#引入maven库" class="headerlink" title="引入maven库"></a>引入maven库</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jsch&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;0.1.55&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<h1 id="执行单一的命令"><a href="#执行单一的命令" class="headerlink" title="执行单一的命令"></a>执行单一的命令</h1><p>过程很简单：</p>
<ol>
<li>发送一串shell命令</li>
<li>拿回结果</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SshInfo</span> <span class="variable">ssh</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SshInfo</span>(<span class="string">&quot;192.168.x.x&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;xxx&quot;</span>);</span><br><span class="line"><span class="type">JSch</span> <span class="variable">jSch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSch</span>();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">Session</span> <span class="variable">session</span> <span class="operator">=</span> jSch.getSession(ssh.getUsername(), ssh.getHost());</span><br><span class="line">    session.setPassword(ssh.getPassword());</span><br><span class="line">    session.setUserInfo(<span class="keyword">new</span> <span class="title class_">MyUserInfo</span>());</span><br><span class="line">    session.connect();</span><br><span class="line"></span><br><span class="line">    Channel channel=session.openChannel(<span class="string">&quot;exec&quot;</span>);</span><br><span class="line">    ((ChannelExec)channel).setCommand(<span class="string">&quot;cd / &amp;&amp; ls&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//channel.setInputStream(System.in);</span></span><br><span class="line">    channel.setInputStream(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//channel.setOutputStream(System.out);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//FileOutputStream fos=new FileOutputStream(&quot;/tmp/stderr&quot;);</span></span><br><span class="line">    <span class="comment">//((ChannelExec)channel).setErrStream(fos);</span></span><br><span class="line">    ((ChannelExec)channel).setErrStream(System.err);</span><br><span class="line"></span><br><span class="line">    InputStream in=channel.getInputStream();</span><br><span class="line"></span><br><span class="line">    channel.connect();</span><br><span class="line"></span><br><span class="line">    <span class="type">byte</span>[] tmp=<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">      <span class="keyword">while</span>(in.available()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="type">int</span> i=in.read(tmp, <span class="number">0</span>, <span class="number">1024</span>);</span><br><span class="line">        <span class="keyword">if</span>(i&lt;<span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">        System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(tmp, <span class="number">0</span>, i));</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(channel.isClosed())&#123;</span><br><span class="line">        <span class="keyword">if</span>(in.available()&gt;<span class="number">0</span>) <span class="keyword">continue</span>; </span><br><span class="line">        System.out.println(<span class="string">&quot;exit-status: &quot;</span>+channel.getExitStatus());</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">try</span>&#123;Thread.sleep(<span class="number">1000</span>);&#125;<span class="keyword">catch</span>(Exception ee)&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    channel.disconnect();</span><br><span class="line">    session.disconnect();</span><br><span class="line">  &#125; <span class="keyword">catch</span> (JSchException | IOException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>MyUserInfo.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyUserInfo</span> <span class="keyword">implements</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassphrase</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPassword</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">promptPassword</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">promptPassphrase</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">promptYesNo</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> s.contains(<span class="string">&quot;The authenticity of host&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showMessage</span><span class="params">(String s)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面可以把命令写在一起通过<code>&amp;&amp;</code>连接然后一起执行，但不够优雅，如果命令很多就不好排错了。</p>
<h1 id="交互式shell"><a href="#交互式shell" class="headerlink" title="交互式shell"></a>交互式shell</h1><p>先看一下最后的样子,就和shell一样的：</p>
<img src="/2019/03/14/java/034-jsch-interactive-shell-stream-redirect/000.png" class="">

<p>代码很简单：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testInteractiveShell</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">SshInfo</span> <span class="variable">ssh</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SshInfo</span>(<span class="string">&quot;192.168.64.12&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    <span class="type">JSch</span> <span class="variable">jSch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSch</span>();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">Session</span> <span class="variable">session</span> <span class="operator">=</span> jSch.getSession(ssh.getUsername(), ssh.getHost());</span><br><span class="line">        session.setPassword(ssh.getPassword());</span><br><span class="line">        session.setUserInfo(<span class="keyword">new</span> <span class="title class_">MyUserInfo</span>());</span><br><span class="line">        session.connect();</span><br><span class="line"></span><br><span class="line">        <span class="type">Channel</span> <span class="variable">exec</span> <span class="operator">=</span> session.openChannel(<span class="string">&quot;shell&quot;</span>);</span><br><span class="line"></span><br><span class="line">        exec.setInputStream(System.in, <span class="literal">true</span>);</span><br><span class="line">        exec.setOutputStream(System.out);</span><br><span class="line"></span><br><span class="line">        exec.connect();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (JSchException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="输入输出流重定向"><a href="#输入输出流重定向" class="headerlink" title="输入输出流重定向"></a>输入输出流重定向</h1><p>当然，一般情况我们不会用java构造一个shell来玩，我遇到的情况就是希望能在<br>同一个shell环境下执行一些命令，而不是每条命令都分开执行，比如：<br>我先执行<code>cd /</code>, 希望下次执行<code>ls</code>列出的是根目录的文件，而不是又回到home目录了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">JSch</span> <span class="variable">jSch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSch</span>();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">Session</span> <span class="variable">session</span> <span class="operator">=</span> jSch.getSession(ssh.getUsername(), ssh.getHost());</span><br><span class="line">    session.setPassword(ssh.getPassword());</span><br><span class="line">    session.setUserInfo(<span class="keyword">new</span> <span class="title class_">MyUserInfo</span>());</span><br><span class="line">    session.connect();</span><br><span class="line"></span><br><span class="line">    <span class="type">Channel</span> <span class="variable">exec</span> <span class="operator">=</span> session.openChannel(<span class="string">&quot;shell&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输入重定向</span></span><br><span class="line">    <span class="type">PipedOutputStream</span> <span class="variable">pipe</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PipedOutputStream</span>();</span><br><span class="line">    <span class="type">PipedInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PipedInputStream</span>(pipe);</span><br><span class="line">    <span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(pipe);</span><br><span class="line"></span><br><span class="line">    exec.setInputStream(in, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 输出重定向</span></span><br><span class="line">    <span class="type">PrintStream</span> <span class="variable">out</span> <span class="operator">=</span> System.out;</span><br><span class="line">    <span class="type">ByteArrayOutputStream</span> <span class="variable">baos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line">    <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(baos);</span><br><span class="line">    System.setOut(ps);</span><br><span class="line">    exec.setOutputStream(out);</span><br><span class="line"></span><br><span class="line">    String[] cmds = &#123;<span class="string">&quot;cd /&quot;</span>, <span class="string">&quot;ls&quot;</span>, <span class="string">&quot;pwd&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (String cmd : cmds) &#123;</span><br><span class="line">        pw.println(cmd);</span><br><span class="line">    &#125;</span><br><span class="line">    pw.println(<span class="string">&quot;exit&quot;</span>);</span><br><span class="line">    pw.flush();</span><br><span class="line"></span><br><span class="line">    exec.connect();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 等待关闭</span></span><br><span class="line">    <span class="keyword">while</span> (!exec.isClosed()) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 重定向回来</span></span><br><span class="line">    System.setOut(out);</span><br><span class="line">    System.out.println(baos.toString());</span><br><span class="line">    </span><br><span class="line">    exec.disconnect();</span><br><span class="line">    session.disconnect();</span><br><span class="line">&#125; <span class="keyword">catch</span> (JSchException | IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/8708342/redirect-console-output-to-string-in-java">redirect-console-output-to-string-in-java</a></li>
<li><a target="_blank" rel="noopener" href="https://www.programcreek.com/java-api-examples/index.php?api=com.jcraft.jsch.ChannelShell">java-api-examples&#x2F;index.php?api&#x3D;com.jcraft.jsch.ChannelShell</a></li>
<li><a target="_blank" rel="noopener" href="http://www.jcraft.com/jsch/examples/Exec.java.html">Exec.java</a></li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <h1 id="引入maven库"><a href="#引入maven库" class="headerlink" title="引入maven库"></a>引入maven库</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.jcraft&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;jsch&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;0.1.55&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/14/java/034-jsch-interactive-shell-stream-redirect/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/14/java/034-jsch-interactive-shell-stream-redirect/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/14/java/034-jsch-interactive-shell-stream-redirect/" data-id="cl1fw7fla00amvkd350kvaeqv" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-basic/016-java-interview" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/12/basic/016-java-interview/" class="article-date">
  <time datetime="2019-03-11T23:49:21.000Z" itemprop="datePublished">2019-03-12</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/12/basic/016-java-interview/">java面试复习</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文记录了开发过程中容易忽略的数据结构、算法、开源软件等知识，导致关键时刻不能提出更好的方法。<br>一方面是复习以往知识，一方面让自己随时可以接受面试（虽然不一定需要跳槽）。</p>
<h1 id="数据结构与算法"><a href="#数据结构与算法" class="headerlink" title="数据结构与算法"></a>数据结构与算法</h1><h2 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h2><p>最大堆、最小堆， 实现方式， 复杂度、特点（何时使用），哪些地方用过。</p>
<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><h3 id="O-n-的排序算法"><a href="#O-n-的排序算法" class="headerlink" title="O(n)的排序算法"></a>O(n)的排序算法</h3><ol>
<li><p>基数排序</p>
</li>
<li><p>计数排序</p>
</li>
<li><p>桶排序</p>
</li>
</ol>
<p>他们的代码实现， 使用场景， 有什么限制？</p>
<h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><h3 id="如何计算时间复杂度"><a href="#如何计算时间复杂度" class="headerlink" title="如何计算时间复杂度"></a>如何计算时间复杂度</h3>
      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文记录了开发过程中容易忽略的数据结构、算法、开源软件等知识，导致关键时刻不能提出更好的方法。<br>一方面是复习以往知识，一方面让自己随时可以接受面试（虽然不一定需要跳槽）。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/12/basic/016-java-interview/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/12/basic/016-java-interview/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/12/basic/016-java-interview/" data-id="cl1fw7fi1001bvkd3gldz7ess" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-life/008-weekly-learn" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/11/life/008-weekly-learn/" class="article-date">
  <time datetime="2019-03-11T01:32:09.000Z" itemprop="datePublished">2019-03-11</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/11/life/008-weekly-learn/">2019-11-周报</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>2019年第10周学习。</p>
<ol>
<li><p>pgsql:</p>
<ol>
<li>去掉null约束： <code>alter table xxx alter column xxxx drop not null;</code></li>
<li>更改类型： <code>alter table xxx alter column xxxx type varchar(100);</code></li>
</ol>
</li>
<li><p>zookeeper学习，基本概念：</p>
<ol>
<li>集群角色： Leader，Follower，Observer</li>
<li>Session： client–server，TCP长连接，sessionTimeout</li>
<li>Znode： 数据节点，持久和临时</li>
<li>Version： 3个版本，version，cversion，aversion</li>
<li>Watcher： 事件监听</li>
<li>ACL： access controller list<ol>
<li>CREATE&#x2F;DELETE&#x2F;READ&#x2F;WRITE 子节点</li>
<li>ADMIN: 设置ACL的权限</li>
</ol>
</li>
</ol>
</li>
<li><a href="/2019/03/12/basic/016-java-interview/" title="java面试复习">java面试复习</a>
</li>
<li><p>修改了ansible： <a href="/2019/01/16/ansible/005-ansible-demo1/" title="ansible实用写法">ansible实用写法</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/309424/how-do-i-read-convert-an-inputstream-into-a-string-in-java">java: read string from stream</a></p>
</li>
<li><p>div里对<code>\n</code>可以换行： <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/25862896/text-with-newline-inside-a-div-element-is-not-working">stakoverflow</a></p>
 <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#divId</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.norbauer.com/rails-consulting/notes/git-revert-reset-a-single-file">git: revert (reset) a single file</a>: <code>git checkout filename</code></p>
</li>
<li><p>NIO基础理论</p>
<ol>
<li>linux 网络IO模型： 阻塞IO、非阻塞IO、IO复用、信号驱动IO、异步IO的区别</li>
<li>零拷贝（zero copy）<ol>
<li>缓存IO是啥？</li>
<li>零拷贝的分类</li>
<li>mmap函数的利弊： 将内核空间映射到用户空间</li>
</ol>
</li>
<li>零拷贝的例子：<ol>
<li>FileChannel.transferTo()—-》 sendfile<ol>
<li>2.1版本：直接从磁盘–》内核buffer–》socket buffer–》NIC网卡</li>
<li>2.4版本：磁盘–》内核buffer–》追加偏移量到socket buffer–》根据socket的偏移量直接从内核copy 数据到NIC</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.jetbrains.com/help/idea/maven-support.html#convert_project_to_maven">IDEA中将java项目转为maven项目</a></p>
</li>
<li><a href="/2019/03/15/java/035-mybatis-mapkey/" title="mybatis中的mapkey">mybatis中的mapkey</a>
</li>
<li><p>学会了ubuntu下载torrent</p>
</li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>2019年第10周学习。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/11/life/008-weekly-learn/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/11/life/008-weekly-learn/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/11/life/008-weekly-learn/" data-id="cl1fw7fk1006hvkd3bg352vjl" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/" rel="tag">life</a><span class="article-tag-list-count">32</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week/" rel="tag">week</a><span class="article-tag-list-count">26</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/033-spring-boot-overview" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/07/java/033-spring-boot-overview/" class="article-date">
  <time datetime="2019-03-07T12:23:29.000Z" itemprop="datePublished">2019-03-07</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/07/java/033-spring-boot-overview/">spring-boot概览</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>在一头扎入源码之前，还是对整个模块的结构和功能有个了解，避免一头雾水。</p>
<p>根据<a target="_blank" rel="noopener" href="https://github.com/spring-projects/spring-boot">springboot github 首页</a>介绍，有下面的模块。</p>
<h1 id="spring-boot"><a href="#spring-boot" class="headerlink" title="spring-boot"></a>spring-boot</h1><p>主库提供支持Spring Boot其他部分的功能，包括：</p>
<ol>
<li>在SpringApplication类，提供静态便捷方法，可以很容易写一个独立的Spring应用程序。它唯一的工作是创建和刷新适当的SpringApplicationContext</li>
<li>可选择容器的嵌入式Web应用程序（Tomcat，Jetty或Undertow）</li>
<li>一流的外部化配置支持</li>
<li>便利ApplicationContext初始化程序，包括支持合理的日志记录默认值</li>
</ol>
<h1 id="spring-boot-autoconfigure"><a href="#spring-boot-autoconfigure" class="headerlink" title="spring-boot-autoconfigure"></a>spring-boot-autoconfigure</h1><p>Spring Boot可以根据类路径的内容 配置常见应用程序的大部分内容。单个@EnableAutoConfiguration注释会触发Spring上下文的自动配置。</p>
<p>自动配置尝试推断用户可能需要的bean。例如，如果 HSQLDB在类路径上，并且用户尚未配置任何数据库连接，则他们可能希望定义内存数据库。当用户开始定义自己的bean时，自动配置将退居回来。</p>
<h1 id="spring-boot-starters"><a href="#spring-boot-starters" class="headerlink" title="spring-boot-starters"></a>spring-boot-starters</h1><p>启动器是一组方便的依赖关系描述符，您可以在应用程序中包含这些描述符。您可以获得所需的所有Spring和相关技术的一站式服务，而无需搜索示例代码并复制粘贴的依赖描述符。例如，如果您想开始使用Spring和JPA进行数据库访问，只需spring-boot-starter-data-jpa在项目中包含依赖项，那么您就可以了。</p>
<h1 id="spring-boot-cli"><a href="#spring-boot-cli" class="headerlink" title="spring-boot-cli"></a>spring-boot-cli</h1><p>Spring命令行应用程序编译并运行Groovy源代码，这使得编写最少的代码以使应用程序运行得非常容易。Spring CLI还可以监视文件，在更改时自动重新编译和重新启动。</p>
<h1 id="spring-boot-actuator"><a href="#spring-boot-actuator" class="headerlink" title="spring-boot-actuator"></a>spring-boot-actuator</h1><p>通过执行器(actuator)端点，您可以监控应用程序并与之交互。执行器提供执行器端点所需的基础结构。它包含对执行器端点的注解支持。开箱，该模块提供了许多端点包括HealthEndpoint，EnvironmentEndpoint，BeansEndpoint等等。</p>
<h1 id="spring-boot-actuator-autoconfigure"><a href="#spring-boot-actuator-autoconfigure" class="headerlink" title="spring-boot-actuator-autoconfigure"></a>spring-boot-actuator-autoconfigure</h1><p>这提供了基于类路径的内容和一组属性的执行器端点的自动配置。例如，如果Micrometer位于类路径上，它将自动配置MetricsEndpoint。它包含通过HTTP或JMX公开端点的配置。就像Spring Boot AutoConfigure一样，当用户开始定义自己的bean时，这将会消失。</p>
<h1 id="spring-boot-test"><a href="#spring-boot-test" class="headerlink" title="spring-boot-test"></a>spring-boot-test</h1><p>此模块包含在测试应用程序时可能有用的核心项和注解。</p>
<h1 id="spring-boot-test-autoconfigure"><a href="#spring-boot-test-autoconfigure" class="headerlink" title="spring-boot-test-autoconfigure"></a>spring-boot-test-autoconfigure</h1><p>与其他Spring Boot自动配置模块一样，spring-boot-test-autoconfigure为基于类路径的测试提供自动配置。它包含许多注解，可用于自动配置需要测试的应用程序段。</p>
<h1 id="spring-boot-loader"><a href="#spring-boot-loader" class="headerlink" title="spring-boot-loader"></a>spring-boot-loader</h1><p>Spring Boot Loader提供了秘密调试，允许您构建可以使用的单个jar文件<code>java -jar</code>。通常，您不需要spring-boot-loader直接使用 ，而是使用 Gradle或 Maven插件。</p>
<h1 id="spring-boot-devtools"><a href="#spring-boot-devtools" class="headerlink" title="spring-boot-devtools"></a>spring-boot-devtools</h1><p>spring-boot-devtools模块提供额外的开发时间功能，例如自动重启，以获得更流畅的应用程序开发体验。运行完全打包的应用程序时会自动禁用开发人员工具。</p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>在一头扎入源码之前，还是对整个模块的结构和功能有个了解，避免一头雾水。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/07/java/033-spring-boot-overview/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/07/java/033-spring-boot-overview/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/07/java/033-spring-boot-overview/" data-id="cl1fw7fl900akvkd3hsy8arim" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring-boot/" rel="tag">spring-boot</a><span class="article-tag-list-count">8</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/032-springboot-quartz" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/07/java/032-springboot-quartz/" class="article-date">
  <time datetime="2019-03-07T05:52:21.000Z" itemprop="datePublished">2019-03-07</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/07/java/032-springboot-quartz/">spring-boot quartz</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>因为项目用到，需要研究下quartz这个定时框架。</p>
<p><a target="_blank" rel="noopener" href="http://www.quartz-scheduler.org/">quartz官网</a></p>
<h1 id="理论概念"><a href="#理论概念" class="headerlink" title="理论概念"></a>理论概念</h1><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="原生使用"><a href="#原生使用" class="headerlink" title="原生使用"></a>原生使用</h2><h2 id="spring-boot集成"><a href="#spring-boot集成" class="headerlink" title="spring boot集成"></a>spring boot集成</h2><p>如果硬要在官网去找使用方法，还是有点困难的，不过我找到了下面几个：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-quartz.html">Quartz Scheduler</a>,这一页只是简单的说明有这个东西，却没有告诉怎么用</li>
<li><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html">common-application-properties</a>，这一页搜索quartz，可以得到支持的quartz配置，如下：</li>
</ol>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># QUARTZ SCHEDULER (QuartzProperties)</span></span><br><span class="line"><span class="string">spring.quartz.auto-startup=true</span> <span class="comment"># Whether to automatically start the scheduler after initialization.</span></span><br><span class="line"><span class="string">spring.quartz.jdbc.comment-prefix=--</span> <span class="comment"># Prefix for single-line comments in SQL initialization scripts.</span></span><br><span class="line"><span class="string">spring.quartz.jdbc.initialize-schema=embedded</span> <span class="comment"># Database schema initialization mode.</span></span><br><span class="line"><span class="string">spring.quartz.jdbc.schema=classpath:org/quartz/impl/jdbcjobstore/tables_@@platform@@.sql</span> <span class="comment"># Path to the SQL file to use to initialize the database schema.</span></span><br><span class="line"><span class="string">spring.quartz.job-store-type=memory</span> <span class="comment"># Quartz job store type.</span></span><br><span class="line"><span class="string">spring.quartz.overwrite-existing-jobs=false</span> <span class="comment"># Whether configured jobs should overwrite existing job definitions.</span></span><br><span class="line"><span class="string">spring.quartz.properties.*=</span> <span class="comment"># Additional Quartz Scheduler properties.</span></span><br><span class="line"><span class="string">spring.quartz.scheduler-name=quartzScheduler</span> <span class="comment"># Name of the scheduler.</span></span><br><span class="line"><span class="string">spring.quartz.startup-delay=0s</span> <span class="comment"># Delay after which the scheduler is started once initialization completes.</span></span><br><span class="line"><span class="string">spring.quartz.wait-for-jobs-to-complete-on-shutdown=false</span> <span class="comment"># Whether to wait for running jobs to complete on shutdown.</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/youzhibing/p/10024558.html">参考这篇博客</a></p>
<h1 id="源码阅读"><a href="#源码阅读" class="headerlink" title="源码阅读"></a>源码阅读</h1><p>这一步需要阅读源码大概知道是怎么实现的。</p>
<p>&#x2F;&#x2F; TODO</p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>因为项目用到，需要研究下quartz这个定时框架。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/07/java/032-springboot-quartz/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/07/java/032-springboot-quartz/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/07/java/032-springboot-quartz/" data-id="cl1fw7fl800afvkd34bjt4sar" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/quartz/" rel="tag">quartz</a><span class="article-tag-list-count">2</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring-boot/" rel="tag">spring-boot</a><span class="article-tag-list-count">8</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/031-java-process-memory-usage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/06/java/031-java-process-memory-usage/" class="article-date">
  <time datetime="2019-03-06T08:28:24.000Z" itemprop="datePublished">2019-03-06</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/06/java/031-java-process-memory-usage/">如何得到一个java进程消耗的内存</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>虽然这个问题很简单，但可以结合很多方面的东西，如果想深究的话，会是个不错的实践机会。</p>
<h1 id="得到进程ID"><a href="#得到进程ID" class="headerlink" title="得到进程ID"></a>得到进程ID</h1><p>这一步有很多方式，用ps，jps都可以：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">jps -l | grep xxx</span></span><br><span class="line">8408 xxx.jar</span><br></pre></td></tr></table></figure>

<h1 id="得到进程总内存"><a href="#得到进程总内存" class="headerlink" title="得到进程总内存"></a>得到进程总内存</h1><p>java进程虽然特殊，但也是一个进程，可以用传统方式获得：</p>
<h2 id="ps-grep"><a href="#ps-grep" class="headerlink" title="ps + grep"></a>ps + grep</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ps auwx | egrep <span class="string">&quot;MEM|8408&quot;</span> | grep -v grep</span></span><br><span class="line">USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">root      8408  1.0  0.6 10055952 1702180 ?    Sl   2月27 108:27 java -Xmx800m -Xms800m -jar ...</span><br></pre></td></tr></table></figure>
<p>可以看到占用了<code>0.6%</code>的内存，机器总共270G内存，所以占了大约：1.6G。</p>
<ol>
<li>RSS: 常驻内存集（Resident Set Size）<ol>
<li>不包括进入交换分区的内存</li>
<li>包括共享库占用的内存（只要共享库在内存中）</li>
<li>包括所有分配的栈内存和堆内存</li>
</ol>
</li>
<li>表示进程分配的虚拟内存<ol>
<li>包括进程可以访问的所有内存</li>
<li>包括进入交换分区的内容</li>
<li>以及共享库占用的内存。</li>
</ol>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">如果一个进程，程序的大小有 500K，链接的共享库大小有 2500K，堆栈内存共有 200K，其中 100K 进入了交换分区。</span><br><span class="line">进程实际加载了共享库中的 1000K 的内容，以及自己程序的中的 400K 的内容。请问 RSS 和 VSZ 应是多少？</span><br><span class="line"></span><br><span class="line">RSS: 400K + 1000K + 100K = 1500K</span><br><span class="line">VSZ: 500K + 2500K + 200K = 3200K</span><br><span class="line"></span><br><span class="line">RSS 中有一部分来自共享库，而共享库可能被许多进程使用，所以如果把所有进程的 RSS 加起来，可能比系统内存还要大。</span><br></pre></td></tr></table></figure>
<p>参考<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/7880784/what-is-rss-and-vsz-in-linux-memory-management">stackoverflow</a></p>
<h2 id="pmap"><a href="#pmap" class="headerlink" title="pmap"></a>pmap</h2><p>&#x2F;&#x2F; TODO pmap介绍<br>pmap可以查看进程的内存映射，字段解释如下：</p>
<ol>
<li>Address: 内存开始地址</li>
<li>Kbytes: 可使用内存的字节数（KB）</li>
<li>RSS: 常驻内存（Resident Set Size）</li>
<li>Dirty: 脏页的字节数（包括共享和私有的）（KB）</li>
<li>Mode: 内存的权限：read、write、execute、shared、private (写时复制)</li>
<li>Mapping: 占用内存的文件、或[anon]（分配的内存）、或[stack]（堆栈）</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pmap -x 8408</span></span><br><span class="line">8408:   java -Xmx800m -Xms800m -jar xxx.jar --spring.profiles.active=self-test </span><br><span class="line">Address           Kbytes     RSS   Dirty Mode  Mapping</span><br><span class="line">0000000000400000       4       4       0 r-x-- java</span><br><span class="line">0000000000600000       4       4       4 rw--- java</span><br><span class="line">...</span><br><span class="line">---------------- ------- ------- ------- </span><br><span class="line">total kB         10055956 1702372 1687060</span><br></pre></td></tr></table></figure>
<p>可以看到RSS, Kbytes 和ps的RSS,VSZ差不多。</p>
<p>但是，我们还是不知道进程到底占用了多少内存，精确值！</p>
<h2 id="更好的方式"><a href="#更好的方式" class="headerlink" title="更好的方式"></a>更好的方式</h2><p>来自：<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/3853655/in-linux-how-to-tell-how-much-memory-processes-are-using">In Linux, how to tell how much memory processes are using?
</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">echo</span> 0 $(awk <span class="string">&#x27;/Pss/ &#123;print &quot;+&quot;, $2&#125;&#x27;</span> /proc/8408/smaps ) | bc</span></span><br><span class="line">1688609</span><br></pre></td></tr></table></figure>

<p><strong>但细心点会发现，我们配置的最大堆内存是800m，但实际使用1.6G左右，差别这么大，要知道为什么，就需要研究JVM的内存结构了。</strong></p>
<h2 id="jmap"><a href="#jmap" class="headerlink" title="jmap"></a>jmap</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">jmap -heap 8408</span></span><br><span class="line">Attaching to process ID 8408, please wait...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.121-b13</span><br><span class="line"></span><br><span class="line">using thread-local object allocation.</span><br><span class="line">Parallel GC with 13 thread(s)</span><br><span class="line"></span><br><span class="line">Heap Configuration:</span><br><span class="line">   MinHeapFreeRatio         = 0</span><br><span class="line">   MaxHeapFreeRatio         = 100</span><br><span class="line">   MaxHeapSize              = 838860800 (800.0MB)</span><br><span class="line">   NewSize                  = 279445504 (266.5MB)</span><br><span class="line">   MaxNewSize               = 279445504 (266.5MB)</span><br><span class="line">   OldSize                  = 559415296 (533.5MB)</span><br><span class="line">   NewRatio                 = 2</span><br><span class="line">   SurvivorRatio            = 8</span><br><span class="line">   MetaspaceSize            = 21807104 (20.796875MB)</span><br><span class="line">   CompressedClassSpaceSize = 1073741824 (1024.0MB)</span><br><span class="line">   MaxMetaspaceSize         = 17592186044415 MB</span><br><span class="line">   G1HeapRegionSize         = 0 (0.0MB)</span><br><span class="line"></span><br><span class="line">Heap Usage:</span><br><span class="line">PS Young Generation</span><br><span class="line">Eden Space:</span><br><span class="line">   capacity = 217579520 (207.5MB)</span><br><span class="line">   used     = 21994848 (20.975921630859375MB)</span><br><span class="line">   free     = 195584672 (186.52407836914062MB)</span><br><span class="line">   10.10887789439006% used</span><br><span class="line">From Space:</span><br><span class="line">   capacity = 30408704 (29.0MB)</span><br><span class="line">   used     = 24198456 (23.07744598388672MB)</span><br><span class="line">   free     = 6210248 (5.922554016113281MB)</span><br><span class="line">   79.57739994443696% used</span><br><span class="line">To Space:</span><br><span class="line">   capacity = 31457280 (30.0MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 31457280 (30.0MB)</span><br><span class="line">   0.0% used</span><br><span class="line">PS Old Generation</span><br><span class="line">   capacity = 559415296 (533.5MB)</span><br><span class="line">   used     = 467722072 (446.05452728271484MB)</span><br><span class="line">   free     = 91693224 (87.44547271728516MB)</span><br><span class="line">   83.60909602300184% used</span><br><span class="line"></span><br><span class="line">53860 interned Strings occupying 6265912 bytes.</span><br></pre></td></tr></table></figure>

<h2 id="jstat"><a href="#jstat" class="headerlink" title="jstat"></a>jstat</h2><p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jstat.html">广泛文档解释</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">jstat -gc 8408</span></span><br><span class="line"> S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   </span><br><span class="line">30720.0 29696.0  0.0   23631.3 212480.0 144045.1  546304.0   456759.8  126936.0 120538.9 15104.0 14010.6    529   22.484   4      0.592   23.076</span><br><span class="line">[root@hadoop5 ~]# jstat -gccapacity 8408</span><br><span class="line"> NGCMN    NGCMX     NGC     S0C   S1C       EC      OGCMN      OGCMX       OGC         OC       MCMN     MCMX      MC     CCSMN    CCSMX     CCSC    YGC    FGC </span><br><span class="line">272896.0 272896.0 272896.0 30720.0 29696.0 212480.0   546304.0   546304.0   546304.0   546304.0      0.0 1161216.0 126936.0      0.0 1048576.0  15104.0    529     4</span><br></pre></td></tr></table></figure>

<h1 id="再看"><a href="#再看" class="headerlink" title="再看"></a>再看</h1><p>但是堆内存一切正常，还没用完呢，为啥虚拟内存占了那么多？ 偶然，查看pmap时发现大量64MB的分配：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">pmap -x 8408 | grep 65404</span> </span><br><span class="line">00007f4e3c021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e50021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e58021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e60021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e74021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e78021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e7c021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e80021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e88021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e8c021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e90021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e94021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4e98021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4ea0021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4ea8021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4eac021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4eb0021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4ecc021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4ed0021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4ed4021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f04021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f08021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f0c021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f10021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f14021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f18021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f1c021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f20021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f24021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f28021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f2c021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f30021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f34021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f38021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f3c021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f40021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f44021000   65404       0       0 -----   [ anon ]</span><br><span class="line">00007f4f4c021000   65404       0       0 -----   [ anon ]</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>总共有近60个，于是查明了原因： <a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1054839">当Java虚拟机遇上Linux Arena内存池</a></p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>虽然这个问题很简单，但可以结合很多方面的东西，如果想深究的话，会是个不错的实践机会。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/06/java/031-java-process-memory-usage/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/06/java/031-java-process-memory-usage/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/06/java/031-java-process-memory-usage/" data-id="cl1fw7fl800ahvkd3cfb57qac" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/" rel="tag">linux</a><span class="article-tag-list-count">57</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/030-spring-boot-build-source" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/06/java/030-spring-boot-build-source/" class="article-date">
  <time datetime="2019-03-06T06:37:12.000Z" itemprop="datePublished">2019-03-06</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/06/java/030-spring-boot-build-source/">spring-boot编译源码</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>学习spring-boot源码第一步： 编译源码，搭建环境。</p>
<h1 id="编译环境"><a href="#编译环境" class="headerlink" title="编译环境"></a>编译环境</h1><ol>
<li>ubuntu18.04</li>
<li>JDK1.8</li>
<li>maven 3.5.2</li>
</ol>
<h1 id="编译过程"><a href="#编译过程" class="headerlink" title="编译过程"></a>编译过程</h1><p>如果直接使用：<code>mvn -Dmaven.test.skip=true clean install</code> 安装，大概会遇到下面的错误：</p>
<img src="/2019/03/06/java/030-spring-boot-build-source/000.png" class="">

<p>错误原因是： 内存不足。由于spring-boot-project&#x2F;spring-boot-tools下的spring-boot-gradle-plugin项目造成的，一个比较暴力的解决办法是直接删掉这个项目下的src&#x2F;test&#x2F;java，因为暂时也用不到它。删除后再执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn -Dmaven.test.failure.ignore=true -Dmaven.test.skip=true clean install</span><br></pre></td></tr></table></figure>
<p>编译了哪些模块请看附录， 还是很有价值的。</p>
<h1 id="导入项目"><a href="#导入项目" class="headerlink" title="导入项目"></a>导入项目</h1><p>idea： file-》open 即可</p>
<p>遇到一些maven问题，稍微修改下即可。主要是maven版本，idea自带的为3.3.9，需要升级：<br><a target="_blank" rel="noopener" href="https://chenyongjun.vip/articles/98">Properties in parent definition are prohibited</a></p>
<h1 id="测试项目"><a href="#测试项目" class="headerlink" title="测试项目"></a>测试项目</h1><p>运行自带的项目：<code>spring-boot-samples/spring-boot-sample-test/src/main/java/sample/test/SampleTestApplication.java</code></p>
<h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Reactor Summary:</span><br><span class="line">[INFO] </span><br><span class="line">[INFO] Spring Boot Build .................................. SUCCESS [  <span class="number">2.148</span> s]</span><br><span class="line">[INFO] Spring Boot Dependencies ........................... SUCCESS [  <span class="number">3.160</span> s]</span><br><span class="line">[INFO] Spring Boot Parent ................................. SUCCESS [  <span class="number">0.537</span> s]</span><br><span class="line">[INFO] Spring Boot Tools .................................. SUCCESS [  <span class="number">0.180</span> s]</span><br><span class="line">[INFO] Spring Boot Testing Support ........................ SUCCESS [  <span class="number">6.356</span> s]</span><br><span class="line">[INFO] Spring Boot Configuration Processor ................ SUCCESS [  <span class="number">3.719</span> s]</span><br><span class="line">[INFO] Spring Boot ........................................ SUCCESS [ <span class="number">24.872</span> s]</span><br><span class="line">[INFO] Spring Boot Test ................................... SUCCESS [  <span class="number">5.657</span> s]</span><br><span class="line">[INFO] Spring Boot Auto-Configure Annotation Processor .... SUCCESS [  <span class="number">0.500</span> s]</span><br><span class="line">[INFO] Spring Boot AutoConfigure .......................... SUCCESS [ <span class="number">21.815</span> s]</span><br><span class="line">[INFO] Spring Boot Actuator ............................... SUCCESS [  <span class="number">7.187</span> s]</span><br><span class="line">[INFO] Spring Boot Actuator AutoConfigure ................. SUCCESS [  <span class="number">6.806</span> s]</span><br><span class="line">[INFO] Spring Boot Developer Tools ........................ SUCCESS [  <span class="number">2.604</span> s]</span><br><span class="line">[INFO] Spring Boot Configuration Metadata ................. SUCCESS [  <span class="number">0.556</span> s]</span><br><span class="line">[INFO] Spring Boot Properties Migrator .................... SUCCESS [  <span class="number">0.478</span> s]</span><br><span class="line">[INFO] Spring Boot Test Auto-Configure .................... SUCCESS [  <span class="number">2.757</span> s]</span><br><span class="line">[INFO] Spring Boot Loader ................................. SUCCESS [<span class="number">01</span>:09 min]</span><br><span class="line">[INFO] Spring Boot Loader Tools ........................... SUCCESS [  <span class="number">1.346</span> s]</span><br><span class="line">[INFO] Spring Boot Antlib ................................. SUCCESS [  <span class="number">3.436</span> s]</span><br><span class="line">[INFO] Spring Boot Configuration Docs ..................... SUCCESS [  <span class="number">0.506</span> s]</span><br><span class="line">[INFO] Spring Boot Gradle Plugin .......................... SUCCESS [  <span class="number">8.702</span> s]</span><br><span class="line">[INFO] Spring Boot Maven Plugin ........................... SUCCESS [<span class="number">04</span>:<span class="number">34</span> min]</span><br><span class="line">[INFO] Spring Boot Starters ............................... SUCCESS [  <span class="number">6.059</span> s]</span><br><span class="line">[INFO] Spring Boot Logging Starter ........................ SUCCESS [  <span class="number">0.929</span> s]</span><br><span class="line">[INFO] Spring Boot Starter ................................ SUCCESS [  <span class="number">0.664</span> s]</span><br><span class="line">[INFO] Spring Boot ActiveMQ Starter ....................... SUCCESS [  <span class="number">1.166</span> s]</span><br><span class="line">[INFO] Spring Boot AMQP Starter ........................... SUCCESS [  <span class="number">0.288</span> s]</span><br><span class="line">[INFO] Spring Boot AOP Starter ............................ SUCCESS [  <span class="number">0.325</span> s]</span><br><span class="line">[INFO] Spring Boot Artemis Starter ........................ SUCCESS [  <span class="number">1.020</span> s]</span><br><span class="line">[INFO] Spring Boot JDBC Starter ........................... SUCCESS [  <span class="number">0.226</span> s]</span><br><span class="line">[INFO] Spring Boot Batch Starter .......................... SUCCESS [  <span class="number">0.548</span> s]</span><br><span class="line">[INFO] Spring Boot Cache Starter .......................... SUCCESS [  <span class="number">0.247</span> s]</span><br><span class="line">[INFO] Spring Boot Spring Cloud Connectors Starter ........ SUCCESS [  <span class="number">1.282</span> s]</span><br><span class="line">[INFO] Spring Boot Data Cassandra Starter ................. SUCCESS [  <span class="number">0.937</span> s]</span><br><span class="line">[INFO] Spring Boot Data Cassandra Reactive Starter ........ SUCCESS [  <span class="number">0.510</span> s]</span><br><span class="line">[INFO] Spring Boot Data Couchbase Starter ................. SUCCESS [  <span class="number">0.641</span> s]</span><br><span class="line">[INFO] Spring Boot Data Couchbase Reactive Starter ........ SUCCESS [  <span class="number">0.318</span> s]</span><br><span class="line">[INFO] Spring Boot Data Elasticsearch Starter ............. SUCCESS [  <span class="number">2.257</span> s]</span><br><span class="line">[INFO] Spring Boot Data JDBC Starter ...................... SUCCESS [  <span class="number">0.319</span> s]</span><br><span class="line">[INFO] Spring Boot Data JPA Starter ....................... SUCCESS [  <span class="number">1.360</span> s]</span><br><span class="line">[INFO] Spring Boot Data LDAP Starter ...................... SUCCESS [  <span class="number">0.219</span> s]</span><br><span class="line">[INFO] Spring Boot Data MongoDB Starter ................... SUCCESS [  <span class="number">0.716</span> s]</span><br><span class="line">[INFO] Spring Boot Data MongoDB Reactive Starter .......... SUCCESS [  <span class="number">0.241</span> s]</span><br><span class="line">[INFO] Spring Boot Data Neo4j Starter ..................... SUCCESS [  <span class="number">0.485</span> s]</span><br><span class="line">[INFO] Spring Boot Data Redis Starter ..................... SUCCESS [  <span class="number">0.468</span> s]</span><br><span class="line">[INFO] Spring Boot Data Redis Reactive Starter ............ SUCCESS [  <span class="number">0.470</span> s]</span><br><span class="line">[INFO] Spring Boot Json Starter ........................... SUCCESS [  <span class="number">0.362</span> s]</span><br><span class="line">[INFO] Spring Boot Tomcat Starter ......................... SUCCESS [  <span class="number">0.219</span> s]</span><br><span class="line">[INFO] Spring Boot Web Starter ............................ SUCCESS [  <span class="number">0.527</span> s]</span><br><span class="line">[INFO] Spring Boot Data REST Starter ...................... SUCCESS [  <span class="number">0.552</span> s]</span><br><span class="line">[INFO] Spring Boot Data Solr Starter ...................... SUCCESS [  <span class="number">0.654</span> s]</span><br><span class="line">[INFO] Spring Boot FreeMarker Starter ..................... SUCCESS [  <span class="number">0.227</span> s]</span><br><span class="line">[INFO] Spring Boot Groovy Templates Starter ............... SUCCESS [  <span class="number">0.439</span> s]</span><br><span class="line">[INFO] Spring Boot HATEOAS Starter ........................ SUCCESS [  <span class="number">0.313</span> s]</span><br><span class="line">[INFO] Spring Boot Integration Starter .................... SUCCESS [  <span class="number">0.267</span> s]</span><br><span class="line">[INFO] Spring Boot Validation Starter ..................... SUCCESS [  <span class="number">0.217</span> s]</span><br><span class="line">[INFO] Spring Boot Jersey Starter ......................... SUCCESS [  <span class="number">1.550</span> s]</span><br><span class="line">[INFO] Spring Boot Jetty Starter .......................... SUCCESS [  <span class="number">1.195</span> s]</span><br><span class="line">[INFO] Spring Boot JOOQ Starter ........................... SUCCESS [  <span class="number">0.261</span> s]</span><br><span class="line">[INFO] Spring Boot Atomikos JTA Starter ................... SUCCESS [  <span class="number">0.352</span> s]</span><br><span class="line">[INFO] Spring Boot Bitronix JTA Starter ................... SUCCESS [  <span class="number">0.214</span> s]</span><br><span class="line">[INFO] Spring Boot Log4j <span class="number">2</span> Starter ........................ SUCCESS [  <span class="number">0.774</span> s]</span><br><span class="line">[INFO] Spring Boot Mail Starter ........................... SUCCESS [  <span class="number">0.337</span> s]</span><br><span class="line">[INFO] Spring Boot Mustache Starter ....................... SUCCESS [  <span class="number">0.222</span> s]</span><br><span class="line">[INFO] Spring Boot Actuator Starter ....................... SUCCESS [  <span class="number">0.427</span> s]</span><br><span class="line">[INFO] Spring Boot OAuth2/OpenID Connect Client Starter ... SUCCESS [ <span class="number">14.000</span> s]</span><br><span class="line">[INFO] Spring Boot OAuth2 Resource Server Starter ......... SUCCESS [  <span class="number">0.205</span> s]</span><br><span class="line">[INFO] Spring Boot Starter Parent ......................... SUCCESS [  <span class="number">0.149</span> s]</span><br><span class="line">[INFO] Spring Boot Quartz Starter ......................... SUCCESS [  <span class="number">0.258</span> s]</span><br><span class="line">[INFO] Spring Boot Reactor Netty Starter .................. SUCCESS [  <span class="number">0.322</span> s]</span><br><span class="line">[INFO] Spring Boot Security Starter ....................... SUCCESS [  <span class="number">0.206</span> s]</span><br><span class="line">[INFO] Spring Boot Test Starter ........................... SUCCESS [  <span class="number">0.963</span> s]</span><br><span class="line">[INFO] Spring Boot Thymeleaf Starter ...................... SUCCESS [  <span class="number">0.299</span> s]</span><br><span class="line">[INFO] Spring Boot Undertow Starter ....................... SUCCESS [  <span class="number">0.815</span> s]</span><br><span class="line">[INFO] Spring Boot WebFlux Starter ........................ SUCCESS [  <span class="number">1.018</span> s]</span><br><span class="line">[INFO] Spring Boot WebSocket Starter ...................... SUCCESS [  <span class="number">0.265</span> s]</span><br><span class="line">[INFO] Spring Boot Web Services Starter ................... SUCCESS [  <span class="number">0.370</span> s]</span><br><span class="line">[INFO] Spring Boot CLI .................................... SUCCESS [  <span class="number">7.202</span> s]</span><br><span class="line">[INFO] Spring Boot Docs ................................... SUCCESS [  <span class="number">3.744</span> s]</span><br><span class="line">[INFO] Spring Boot Build .................................. SUCCESS [  <span class="number">0.086</span> s]</span><br><span class="line">[INFO] Spring Boot Samples Invoker ........................ SUCCESS [<span class="number">03</span>:<span class="number">40</span> min]</span><br><span class="line">[INFO] Spring Boot Tests .................................. SUCCESS [  <span class="number">0.111</span> s]</span><br><span class="line">[INFO] Spring Boot Integration Tests ...................... SUCCESS [  <span class="number">0.101</span> s]</span><br><span class="line">[INFO] Spring Boot Configuration Processor Tests .......... SUCCESS [  <span class="number">0.235</span> s]</span><br><span class="line">[INFO] Spring Boot DevTools Tests ......................... SUCCESS [  <span class="number">0.264</span> s]</span><br><span class="line">[INFO] Spring Boot Hibernate <span class="number">5.2</span> tests .................... SUCCESS [  <span class="number">2.060</span> s]</span><br><span class="line">[INFO] Spring Boot Server Tests ........................... SUCCESS [  <span class="number">0.574</span> s]</span><br><span class="line">[INFO] Spring Boot Launch Script Integration Tests ........ SUCCESS [ <span class="number">10.431</span> s]</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] BUILD SUCCESS</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br><span class="line">[INFO] Total time: <span class="number">12</span>:<span class="number">36</span> min</span><br><span class="line">[INFO] Finished at: <span class="number">2019</span>-<span class="number">03</span>-06T14:<span class="number">46</span>:<span class="number">31</span>+08:<span class="number">00</span></span><br><span class="line">[INFO] Final Memory: 730M/1412M</span><br><span class="line">[INFO] ------------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>学习spring-boot源码第一步： 编译源码，搭建环境。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/06/java/030-spring-boot-build-source/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/06/java/030-spring-boot-build-source/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/06/java/030-spring-boot-build-source/" data-id="cl1fw7fl700acvkd3b9548k74" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring-boot/" rel="tag">spring-boot</a><span class="article-tag-list-count">8</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-life/007-weekly-learn" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/04/life/007-weekly-learn/" class="article-date">
  <time datetime="2019-03-04T08:31:45.000Z" itemprop="datePublished">2019-03-04</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/04/life/007-weekly-learn/">2019-10-周报</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>2019年第10周学习。</p>
<ol>
<li><p>主要是关于架构方面的： redis和memcached比较， 缓存和数据库的读写</p>
</li>
<li><p>ES使用问题：</p>
</li>
<li><p>如何查询所有数据？ 将size设置为大于可以预见的最大条数， 大数据推荐用scan</p>
</li>
<li><p>ISAM是什么？ Indexed Sequential Access Method.</p>
</li>
<li><p>如何拉起应用？ 虽然自己写了个shell脚本循环检测，但<a target="_blank" rel="noopener" href="https://www.rddoc.com/doc/Supervisor/3.3.1/zh/configuration/">supervisor</a>似乎更好用，专业。</p>
</li>
<li><p>SQL问题： <a target="_blank" rel="noopener" href="https://www.cnblogs.com/Jessy/p/3525419.html">关于join和where的执行顺序</a>, 干脆复习一下<a target="_blank" rel="noopener" href="https://blog.csdn.net/u014044812/article/details/51004754">所有条件的执行顺序</a><br> 还有就是<code>left join 和 left outer join 是一样的</code>：</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> B            A <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> B</span><br><span class="line">A <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> B           A <span class="keyword">RIGHT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> B</span><br><span class="line">A <span class="keyword">FULL</span> <span class="keyword">JOIN</span> B            A <span class="keyword">FULL</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> B</span><br><span class="line">A <span class="keyword">INNER</span> <span class="keyword">JOIN</span> B           A <span class="keyword">JOIN</span> B</span><br></pre></td></tr></table></figure>
</li>
<li><p>啥是服务降级？ 和服务熔断的区别是什么？</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://my.oschina.net/yu120/blog/1790398">服务降级</a></p>
</li>
<li><p>熔断这一概念来源于电子工程中的断路器（Circuit Breaker）.可以想象保险丝断路了。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5ad05373518825619d4d2f00">区别-漫画熔断</a></p>
</li>
<li><p>pgsql表间复制数据： <code>Insert into Table2(field1,field2,…) select value1,value2,… from Table1</code></p>
</li>
<li><a href="/2019/03/06/java/030-spring-boot-build-source/" title="编译spring-boot源码">编译spring-boot源码</a>，准备学习
<ol>
<li>遇到maven相关的问题： <a target="_blank" rel="noopener" href="https://chenyongjun.vip/articles/98">Properties in parent definition are prohibited</a></li>
<li><a href="/2019/03/07/java/033-spring-boot-overview/" title="第一篇-概览">第一篇-概览</a></li>
</ol>
</li>
<li><a href="/2019/03/06/java/031-java-process-memory-usage/" title="研究java进程内存占用过高原因">研究java进程内存占用过高原因</a>
</li>
<li><p>开始研究quartz： <a href="/2019/03/07/java/032-springboot-quartz/" title="spring-boot-quartz">spring-boot-quartz</a></p>
</li>
<li><p>什么是蓝绿部署？ 灰度部署（金丝雀部署）？ 滚动部署？ 重点是它们背后的典故（海豚和金丝雀）。</p>
</li>
<li><p>看了书： 《重新定义spring cloud实战》、《Java并发编程实战》、《paxos到zookeeper》</p>
</li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>2019年第10周学习。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/04/life/007-weekly-learn/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/04/life/007-weekly-learn/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/04/life/007-weekly-learn/" data-id="cl1fw7fk0006fvkd3fmbw16iy" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/" rel="tag">life</a><span class="article-tag-list-count">32</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/week/" rel="tag">week</a><span class="article-tag-list-count">26</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-life/006-chrome-theme" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/01/life/006-chrome-theme/" class="article-date">
  <time datetime="2019-03-01T03:15:53.000Z" itemprop="datePublished">2019-03-01</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/01/life/006-chrome-theme/">chrome主题（stylus）</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>有时候，看惯了一个样子，会感到厌烦，买新的衣服，换壁纸，甚至换伴侣。<br>本文记录了如何更换chrome浏览器的样式。</p>
<h1 id="自带主题"><a href="#自带主题" class="headerlink" title="自带主题"></a>自带主题</h1><p>当然，访问chrome商店需要科学上网，vpn不能少。</p>
<p>但是chrome主题仅仅是窗口的变换，不能满足网页的要求。</p>
<h1 id="stylus插件"><a href="#stylus插件" class="headerlink" title="stylus插件"></a>stylus插件</h1><p>此插件可以做到。</p>
<p>对每一个url有一些别人写好的样式，实在不喜欢可以自己写。</p>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>有时候，看惯了一个样子，会感到厌烦，买新的衣服，换壁纸，甚至换伴侣。<br>本文记录了如何更换chrome浏览器的样式。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/03/01/life/006-chrome-theme/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/03/01/life/006-chrome-theme/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/03/01/life/006-chrome-theme/" data-id="cl1fw7fk0006dvkd3177t4zxj" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/chrome/" rel="tag">chrome</a><span class="article-tag-list-count">3</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/life/" rel="tag">life</a><span class="article-tag-list-count">32</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/029-eureka-record" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/27/java/029-eureka-record/" class="article-date">
  <time datetime="2019-02-27T09:37:43.000Z" itemprop="datePublished">2019-02-27</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/27/java/029-eureka-record/">eureka使用总结</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>本文长期更新在使用eureka时用到的知识和问题。</p>
<h1 id="eureka接口"><a href="#eureka接口" class="headerlink" title="eureka接口"></a>eureka接口</h1><ol>
<li><p>遇到应用运行良好，但eureka显示DOWN了，再也拉不回去，可以使用eureka的强制更新状态接口：<br> <code>curl -X PUT http://HOST:8761/eureka/apps/appName/instanceID/status?value=UP</code><br> <a target="_blank" rel="noopener" href="https://github.com/Netflix/eureka/wiki/Eureka-REST-operations">戳我看更加完整的接口</a>,<a target="_blank" rel="noopener" href="https://my.oschina.net/u/943746/blog/2248156">或人家翻译的</a></p>
</li>
<li><p>上面的instanceID是什么？<br> 就是eureka界面STATUS列显示的，<a target="_blank" rel="noopener" href="http://www.itmuch.com/spring-cloud-sum/eureka-instance-id/">看这篇文章:如何自定义微服务的Instance ID</a></p>
 <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">eureka:</span></span><br><span class="line">  <span class="attr">instance:</span></span><br><span class="line">    <span class="attr">instance-id:</span> <span class="string">$&#123;spring.cloud.client.ipAddress&#125;:$&#123;server.port&#125;:$&#123;spring.cloud.client.hostname&#125;:$&#123;spring.application.name&#125;</span></span><br></pre></td></tr></table></figure>
<p> 但是在spring-boot2.x里IP改为： <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/5ad8317961b7">${spring.cloud.client.ip-address}</a>, 且不需要额外引入那个common包</p>
</li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>本文长期更新在使用eureka时用到的知识和问题。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/02/27/java/029-eureka-record/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/02/27/java/029-eureka-record/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/02/27/java/029-eureka-record/" data-id="cl1fw7fl700aavkd3clv52ye3" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/eureka/" rel="tag">eureka</a><span class="article-tag-list-count">1</span></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring-cloud/" rel="tag">spring cloud</a><span class="article-tag-list-count">5</span></li></ul>

      </footer>
      </div>
      
</article>


  
    <article id="post-java/028-equals-hashcode" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/27/java/028-equals-hashcode/" class="article-date">
  <time datetime="2019-02-27T06:10:52.000Z" itemprop="datePublished">2019-02-27</time>
</a>
      
  </div>
  <div class="article-inner">
    
      
        <header class="article-header">
          
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/27/java/028-equals-hashcode/">一段代码解释equals和hashcode</a>
    </h1>
  

        </header>
        
          <!-- <div class="article-entry" itemprop="articleBody">
      
        <p>在面试或实际过程中，很可能会遇到这样的问题： 为什么重写equals时必须重写hashCode方法？<br>下面一段代码看了就明白了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashEqual</span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">		<span class="type">int</span> a;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">public</span> <span class="title function_">A</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">			<span class="built_in">this</span>.a = a;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">this</span> == o) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) &#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="type">A</span> <span class="variable">a1</span> <span class="operator">=</span> (A) o;</span><br><span class="line">			<span class="type">return</span> <span class="variable">a</span> <span class="operator">=</span>= a1.a;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">			<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> r.nextInt();</span><br><span class="line">			System.out.println(i);</span><br><span class="line">			<span class="keyword">return</span> i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">A</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>(<span class="number">1</span>);</span><br><span class="line">		<span class="type">A</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">A</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">		System.out.println(a1.equals(a2));</span><br><span class="line">		System.out.println(a1 == a2);</span><br><span class="line"></span><br><span class="line">		HashSet&lt;A&gt; as = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">		as.add(a1);</span><br><span class="line">		as.add(a2);</span><br><span class="line">		as.add(a2);</span><br><span class="line">		System.out.println(as.size());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可能结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"><span class="number">1394420845</span></span><br><span class="line"><span class="number">420393756</span></span><br><span class="line">-<span class="number">1924810276</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<ol>
<li><code>==</code>比较对象内存地址</li>
<li>在使用hash的地方会调用hashcode()，比如HashMap,HashSet等他们相关的类</li>
</ol>

      
    </div> -->
          <div class="article-entry" itemprop="articleBody">
            
              
                
                      
                        
                          
                            
                              
                                
                                  
                                    <p>
                                      <p>在面试或实际过程中，很可能会遇到这样的问题： 为什么重写equals时必须重写hashCode方法？<br>下面一段代码看了就明白了。</p>

                                        <p>
                                          
                                            
                                              
                                                      
          </div>
    <p class="article-more-link">
      <a href="/2019/02/27/java/028-equals-hashcode/#more">
        Read More
      </a>
    </p>
    <!-- <div class="article-more-link">
      <a href="/2019/02/27/java/028-equals-hashcode/#more">
        read more
      </a>
    </div> -->
    


      <footer class="article-footer">
        <a data-url="http://jimolonely.github.io/2019/02/27/java/028-equals-hashcode/" data-id="cl1fw7fl600a8vkd31mfv84qp" class="article-share-link">
          Share
        </a>
        
            
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a><span class="article-tag-list-count">104</span></li></ul>

      </footer>
      </div>
      
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/7/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/9/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UI-test/" rel="tag">UI test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/annotation/" rel="tag">annotation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ansible/" rel="tag">ansible</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ant/" rel="tag">ant</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aop/" rel="tag">aop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/archiva/" rel="tag">archiva</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/asciidoc/" rel="tag">asciidoc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/awk/" rel="tag">awk</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/axios/" rel="tag">axios</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/basic/" rel="tag">basic</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/big-data/" rel="tag">big data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blockchain/" rel="tag">blockchain</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos/" rel="tag">centos</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cglib/" rel="tag">cglib</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/checkstyle/" rel="tag">checkstyle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/chrome/" rel="tag">chrome</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computer-principle/" rel="tag">computer principle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cors/" rel="tag">cors</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-structure/" rel="tag">data structure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-pattern/" rel="tag">design-pattern</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es/" rel="tag">es</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eureka/" rel="tag">eureka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/firefox/" rel="tag">firefox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/" rel="tag">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/geohash/" rel="tag">geohash</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/geomesa/" rel="tag">geomesa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitlab/" rel="tag">gitlab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/" rel="tag">gradle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/groovy/" rel="tag">groovy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/" rel="tag">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/" rel="tag">hbase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/" rel="tag">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idea/" rel="tag">idea</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ip/" rel="tag">ip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/junit/" rel="tag">junit</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyter/" rel="tag">jupyter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jupyterhub/" rel="tag">jupyterhub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm/" rel="tag">jvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jwt/" rel="tag">jwt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/k8s/" rel="tag">k8s</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/" rel="tag">kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/katalon/" rel="tag">katalon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keepalived/" rel="tag">keepalived</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/latex/" rel="tag">latex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-kernel/" rel="tag">linux kernel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/load-balance/" rel="tag">load balance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/log/" rel="tag">log</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/log4j/" rel="tag">log4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/log4j12/" rel="tag">log4j12</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/logback/" rel="tag">logback</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lombok/" rel="tag">lombok</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lru/" rel="tag">lru</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lucene/" rel="tag">lucene</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/magnet/" rel="tag">magnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/make/" rel="tag">make</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/makefile/" rel="tag">makefile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/manjaro/" rel="tag">manjaro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/math/" rel="tag">math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/md5/" rel="tag">md5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mhtml/" rel="tag">mhtml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microservice/" rel="tag">microservice</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/music/" rel="tag">music</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/notebook/" rel="tag">notebook</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/" rel="tag">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nvidia/" rel="tag">nvidia</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oauth/" rel="tag">oauth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openstack/" rel="tag">openstack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/optimization/" rel="tag">optimization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandas/" rel="tag">pandas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pandoc/" rel="tag">pandoc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pgsql/" rel="tag">pgsql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/probability/" rel="tag">probability</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pyspark/" rel="tag">pyspark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/quartz/" rel="tag">quartz</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/resource/" rel="tag">resource</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/review/" rel="tag">review</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sbt/" rel="tag">sbt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala/" rel="tag">scala</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slf4j/" rel="tag">slf4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/" rel="tag">spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/" rel="tag">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-cloud/" rel="tag">spring cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/" rel="tag">spring-boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/" rel="tag">springboot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/" rel="tag">sql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlserver/" rel="tag">sqlserver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/" rel="tag">statistics</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/syslog/" rel="tag">syslog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/term/" rel="tag">term</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/test/" rel="tag">test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/texlive/" rel="tag">texlive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thread/" rel="tag">thread</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/" rel="tag">tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tool/" rel="tag">tool</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/urban-computing/" rel="tag">urban computing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/video/" rel="tag">video</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vpn/" rel="tag">vpn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vscode/" rel="tag">vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web-dav/" rel="tag">web-dav</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/" rel="tag">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/week/" rel="tag">week</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordcloud/" rel="tag">wordcloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/work/" rel="tag">work</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xml/" rel="tag">xml</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zipkin/" rel="tag">zipkin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/" rel="tag">zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/" rel="tag">云计算</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%83%E7%BC%96%E7%A8%8B/" rel="tag">元编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%8E%E5%B8%82%E8%AE%A1%E7%AE%97/" rel="tag">城市计算</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A6%82%E5%BF%B5/" rel="tag">概念</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95/" rel="tag">测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%90%E7%BB%B4/" rel="tag">运维</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/AI/" style="font-size: 10.53px;">AI</a> <a href="/tags/UI-test/" style="font-size: 10px;">UI test</a> <a href="/tags/algorithm/" style="font-size: 10.53px;">algorithm</a> <a href="/tags/android/" style="font-size: 10.53px;">android</a> <a href="/tags/annotation/" style="font-size: 10px;">annotation</a> <a href="/tags/ansible/" style="font-size: 13.16px;">ansible</a> <a href="/tags/ant/" style="font-size: 10px;">ant</a> <a href="/tags/aop/" style="font-size: 10px;">aop</a> <a href="/tags/archiva/" style="font-size: 10px;">archiva</a> <a href="/tags/asciidoc/" style="font-size: 10px;">asciidoc</a> <a href="/tags/awk/" style="font-size: 10px;">awk</a> <a href="/tags/axios/" style="font-size: 10px;">axios</a> <a href="/tags/basic/" style="font-size: 13.16px;">basic</a> <a href="/tags/big-data/" style="font-size: 10.53px;">big data</a> <a href="/tags/blockchain/" style="font-size: 10px;">blockchain</a> <a href="/tags/centos/" style="font-size: 12.11px;">centos</a> <a href="/tags/cglib/" style="font-size: 10px;">cglib</a> <a href="/tags/checkstyle/" style="font-size: 10px;">checkstyle</a> <a href="/tags/chrome/" style="font-size: 11.05px;">chrome</a> <a href="/tags/computer-principle/" style="font-size: 10px;">computer principle</a> <a href="/tags/cors/" style="font-size: 10.53px;">cors</a> <a href="/tags/data-structure/" style="font-size: 10px;">data structure</a> <a href="/tags/design-pattern/" style="font-size: 10.53px;">design-pattern</a> <a href="/tags/docker/" style="font-size: 17.89px;">docker</a> <a href="/tags/elasticsearch/" style="font-size: 13.16px;">elasticsearch</a> <a href="/tags/es/" style="font-size: 10px;">es</a> <a href="/tags/eureka/" style="font-size: 10px;">eureka</a> <a href="/tags/firefox/" style="font-size: 10px;">firefox</a> <a href="/tags/flask/" style="font-size: 10px;">flask</a> <a href="/tags/geohash/" style="font-size: 10px;">geohash</a> <a href="/tags/geomesa/" style="font-size: 10px;">geomesa</a> <a href="/tags/git/" style="font-size: 13.16px;">git</a> <a href="/tags/gitlab/" style="font-size: 11.05px;">gitlab</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/groovy/" style="font-size: 10px;">groovy</a> <a href="/tags/hadoop/" style="font-size: 10.53px;">hadoop</a> <a href="/tags/hbase/" style="font-size: 11.58px;">hbase</a> <a href="/tags/hexo/" style="font-size: 10.53px;">hexo</a> <a href="/tags/html/" style="font-size: 10.53px;">html</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/idea/" style="font-size: 11.05px;">idea</a> <a href="/tags/ip/" style="font-size: 10px;">ip</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/javascript/" style="font-size: 11.58px;">javascript</a> <a href="/tags/js/" style="font-size: 13.16px;">js</a> <a href="/tags/junit/" style="font-size: 10px;">junit</a> <a href="/tags/jupyter/" style="font-size: 10px;">jupyter</a> <a href="/tags/jupyterhub/" style="font-size: 10.53px;">jupyterhub</a> <a href="/tags/jvm/" style="font-size: 10px;">jvm</a> <a href="/tags/jwt/" style="font-size: 10px;">jwt</a> <a href="/tags/k8s/" style="font-size: 11.05px;">k8s</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/katalon/" style="font-size: 10px;">katalon</a> <a href="/tags/keepalived/" style="font-size: 10.53px;">keepalived</a> <a href="/tags/latex/" style="font-size: 11.05px;">latex</a> <a href="/tags/life/" style="font-size: 18.95px;">life</a> <a href="/tags/linux/" style="font-size: 19.47px;">linux</a> <a href="/tags/linux-kernel/" style="font-size: 10px;">linux kernel</a> <a href="/tags/load-balance/" style="font-size: 10px;">load balance</a> <a href="/tags/log/" style="font-size: 10px;">log</a> <a href="/tags/log4j/" style="font-size: 10px;">log4j</a> <a href="/tags/log4j12/" style="font-size: 10px;">log4j12</a> <a href="/tags/logback/" style="font-size: 10px;">logback</a> <a href="/tags/lombok/" style="font-size: 10px;">lombok</a> <a href="/tags/lru/" style="font-size: 10px;">lru</a> <a href="/tags/lucene/" style="font-size: 10px;">lucene</a> <a href="/tags/magnet/" style="font-size: 10px;">magnet</a> <a href="/tags/make/" style="font-size: 10px;">make</a> <a href="/tags/makefile/" style="font-size: 10px;">makefile</a> <a href="/tags/manjaro/" style="font-size: 10px;">manjaro</a> <a href="/tags/math/" style="font-size: 11.05px;">math</a> <a href="/tags/maven/" style="font-size: 15.26px;">maven</a> <a href="/tags/md5/" style="font-size: 10px;">md5</a> <a href="/tags/mhtml/" style="font-size: 10px;">mhtml</a> <a href="/tags/microservice/" style="font-size: 14.21px;">microservice</a> <a href="/tags/music/" style="font-size: 10px;">music</a> <a href="/tags/mybatis/" style="font-size: 11.05px;">mybatis</a> <a href="/tags/mysql/" style="font-size: 12.11px;">mysql</a> <a href="/tags/nginx/" style="font-size: 12.63px;">nginx</a> <a href="/tags/notebook/" style="font-size: 10px;">notebook</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/nvidia/" style="font-size: 10px;">nvidia</a> <a href="/tags/oauth/" style="font-size: 10px;">oauth</a> <a href="/tags/openstack/" style="font-size: 12.11px;">openstack</a> <a href="/tags/optimization/" style="font-size: 10px;">optimization</a> <a href="/tags/pandas/" style="font-size: 10px;">pandas</a> <a href="/tags/pandoc/" style="font-size: 10px;">pandoc</a> <a href="/tags/pgsql/" style="font-size: 11.58px;">pgsql</a> <a href="/tags/probability/" style="font-size: 10px;">probability</a> <a href="/tags/pyspark/" style="font-size: 10px;">pyspark</a> <a href="/tags/python/" style="font-size: 17.37px;">python</a> <a href="/tags/quartz/" style="font-size: 10.53px;">quartz</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/redis/" style="font-size: 15.79px;">redis</a> <a href="/tags/resource/" style="font-size: 10px;">resource</a> <a href="/tags/review/" style="font-size: 10px;">review</a> <a href="/tags/sbt/" style="font-size: 10px;">sbt</a> <a href="/tags/scala/" style="font-size: 14.74px;">scala</a> <a href="/tags/shell/" style="font-size: 12.63px;">shell</a> <a href="/tags/slf4j/" style="font-size: 10px;">slf4j</a> <a href="/tags/spark/" style="font-size: 14.74px;">spark</a> <a href="/tags/spring/" style="font-size: 15.79px;">spring</a> <a href="/tags/spring-cloud/" style="font-size: 12.11px;">spring cloud</a> <a href="/tags/spring-boot/" style="font-size: 13.68px;">spring-boot</a> <a href="/tags/springboot/" style="font-size: 11.05px;">springboot</a> <a href="/tags/sql/" style="font-size: 11.05px;">sql</a> <a href="/tags/sqlserver/" style="font-size: 10.53px;">sqlserver</a> <a href="/tags/ssh/" style="font-size: 12.11px;">ssh</a> <a href="/tags/statistics/" style="font-size: 10px;">statistics</a> <a href="/tags/syslog/" style="font-size: 10px;">syslog</a> <a href="/tags/term/" style="font-size: 10px;">term</a> <a href="/tags/test/" style="font-size: 10px;">test</a> <a href="/tags/texlive/" style="font-size: 10px;">texlive</a> <a href="/tags/thread/" style="font-size: 10px;">thread</a> <a href="/tags/tomcat/" style="font-size: 13.16px;">tomcat</a> <a href="/tags/tool/" style="font-size: 16.84px;">tool</a> <a href="/tags/ubuntu/" style="font-size: 16.32px;">ubuntu</a> <a href="/tags/urban-computing/" style="font-size: 10px;">urban computing</a> <a href="/tags/video/" style="font-size: 10px;">video</a> <a href="/tags/vim/" style="font-size: 10.53px;">vim</a> <a href="/tags/vpn/" style="font-size: 10px;">vpn</a> <a href="/tags/vscode/" style="font-size: 10px;">vscode</a> <a href="/tags/vue/" style="font-size: 11.05px;">vue</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/web-dav/" style="font-size: 10px;">web-dav</a> <a href="/tags/webpack/" style="font-size: 10.53px;">webpack</a> <a href="/tags/week/" style="font-size: 18.42px;">week</a> <a href="/tags/windows/" style="font-size: 10px;">windows</a> <a href="/tags/wordcloud/" style="font-size: 10px;">wordcloud</a> <a href="/tags/work/" style="font-size: 10px;">work</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a> <a href="/tags/zipkin/" style="font-size: 10px;">zipkin</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a> <a href="/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/" style="font-size: 12.63px;">云计算</a> <a href="/tags/%E5%85%83%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">元编程</a> <a href="/tags/%E5%9F%8E%E5%B8%82%E8%AE%A1%E7%AE%97/" style="font-size: 10px;">城市计算</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">架构</a> <a href="/tags/%E6%A6%82%E5%BF%B5/" style="font-size: 10px;">概念</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">测试</a> <a href="/tags/%E7%88%AC%E8%99%AB/" style="font-size: 10px;">爬虫</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 10px;">运维</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/31/redis/000-redis-interview/">Redis面试总结202203</a>
          </li>
        
          <li>
            <a href="/2019/10/27/maven/009-maven-deploy/">使用IDEA部署jar包到maven仓库(maven deploy)</a>
          </li>
        
          <li>
            <a href="/2019/10/24/java/075-pluggable-annotation-processing-lombok/">Pluggable Annotation Processing的讲解与实践</a>
          </li>
        
          <li>
            <a href="/2019/10/18/life/036-weekly-learn/">2019-42-周报</a>
          </li>
        
          <li>
            <a href="/2019/10/15/shell/003-carriage-linechange/">r command not found</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 Jackpler<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">home</a>
  
    <a href="/archives" class="mobile-nav-link">archives</a>
  
    <a href="/about" class="mobile-nav-link">about</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>